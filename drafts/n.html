<!DOCTYPE html> 
<html lang="en">
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>Dave Laing - N - the language of natural numbers</title>
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap.min.css">
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap-theme.min.css">
        <link rel="stylesheet" href="../css/custom.css">
        <link rel="stylesheet" href="../css/syntax.css">
        <link rel="alternate" type="application/atom+xml" title="Atom - Little Languages" href="../atom.xml" />
        <link rel="alternate" type="application/rss+xml" title="RSS - Little Languages" href="../rss.xml" />
    </head>
    <body>
        <nav class="navbar navbar-default navbar-static-top">
        <div class="container">
        <div class="navbar-header">
            <div class="navbar-brand">
                <a href="../">Little Languages</a>
            </div>
            <ul class="nav navbar-nav">
                <li role="presentation"><a href="http://dlaing.org">Back to my main site</a></li>
            </ul>
        </div>

        </div>
        </nav>

        <div class="container">
            <div class="panel panel-default">
    <div class="panel-heading">
        <h3 class="panel-title"><a href="../drafts/n.html">N - the language of natural numbers</a></h3>
    </div>
    <div class="panel-body">
        <h1 id="introducing-n">Introducing <em>N</em></h1>
<p>We’ve just finished covering the <a href="./b.html">B language</a>.</p>
<p>Now we’re going to look at the <em>N</em> language, which deals with natural numbers.</p>
<p>This is going to be a relative short tour, since you’ve seen most of this before. The important points are that we’ll be dealing with inductively defined values, and we’ll be looking briefly at the difference between strict and lazy evaluation.</p>
<h1 id="terms-of-n">Terms of <em>N</em></h1>
<p>The natural numbers are defined as:</p>
<ul>
<li><img width="15" alt="\text{O}" height="12" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAZCAQAAACMPFaRAAAA70lEQVR4nKVUyxWEIAxMK1RiI9RhGTZhD7ZABzbAmaMXDrJDPOwnH/Ht8J4HMiETHEJkI9DMa3I4KlY6sBKvTBXfMJYYQa6o+MZEhU5aRmo21JR1duwnP3UB5TQkHohtdmpAYkNtHRNi7asdIa06urIdv072+lqYoSpLvizqbXVG1kIHh/z/WZmjoFmBDxRdXXyQLOwyP0gWl/okWVgl/NMzsbvazQM0OVm/DKFO9dh66zCXUQe8bTbmeJcGvH+9K92ihceEi56+K/ubMWF+kPjlBLFXxobgzAMvwe+905UHonUTKiKE7jgk4xDjjb8ArJGWAJB9UBEAAAAASUVORK5CYII=" class="inline-math" style="margin:0; vertical-align:-1px;" />, for the number zero</li>
<li><img width="26" alt="\text{S n}" height="12" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADUAAAAZCAQAAAA7ga62AAABPklEQVR4nLWVyxHDIAxE1QqV0Ah1UEaaoAdaoAMa4OxjLjnEWcn52OETmODlkEETeCCkNVEuTRbD7Oaq8K+/ZWihG0UK8hsktgA8XY5W8u+ZAupKF8Smoww2DRn8fgYqYdv8VdIZqBWvksvMR9kKilAeJ6BKCSTU4wkJzMuC5Xc9NkmxCmvLoiEChn3Ogozm8bQUNqcxoch1N2pB922HVDiuF3cJmMfWIidLXuM28EpBUHF3F8a71hI2pvUwUpcDBqlf9xVp3oulsSTiTh9YH2otwDulkfft9ZqJqGw8hGIZgV3nonSlBFyWmr9RttpRPd4+iKpldpmPKjvghvqlQVTNlHrKfRh1LziX7/peDaO4cf0hysXeY8BRjEw1IzsUv5USXECJs1/HLqc/GpktRr7O//IEdomIyydx6Wl6AH4w4Oq+q7PZAAAAAElFTkSuQmCC" class="inline-math" style="margin:0; vertical-align:-1px;" />, for the successor of the number <img width="12" alt="\text{n}" height="7" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAPCAQAAABUrcdQAAAAZUlEQVR4nGNggIEyhj6G40BYBuUdB8MYBpzgLcNXhv9AeJxBkeEawzYGeyB9HMi/hlsLA1jBcaAShLkgQxbj1/AWRQEBO46DHYVpBAEbRjUMtIZrQOlfwDSETwQO/qPAMqwiQAAAPTthLvmYVhgAAAAASUVORK5CYII=" class="inline-math" style="margin:0; vertical-align:-0px;" /></li>
</ul>
<p>The terms of <em>N</em> are as follows:</p>
<p><img width="77" alt=" \begin{aligned} t =&amp; \ \text{O} \\   |&amp; \ \text{S t} \\   |&amp; \ \text{pred t} \end{aligned} " height="64" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJoAAACBCAQAAACS52vEAAAFWklEQVR4nO2d0ZWrIBCGaYVKaIQ6LMMm6MEW6MAGfPbRlzyYhcEkoqij2QDqfJ67d4+yEf8IAs4PjOUKZwVsInVGzoJindk0bA17mJ88dZbyRhqRHuYO+yBYy3pWJsvRbkrzTcf8lhV7mntsfsba7NcR8/EVvcmsjHa20pytX/iSOnOsipaTL5BwEbHg8BWphaPCHHt6xTZTKpPNJtrZbBF8rBxvNo5nQhOxSLg7aa3eKiHF0p2YDY+INZreLH4cUsS783fxalaWw2XY7ffSdXC29Sf1A9JkiW0X2e0BdYj7/feP+ydCkDb/h0HMGk3uEC3rZi6mjSYhFW5bu9hih2gZN3KxbbQCva3VV3tEy7iJG7eNxq9Rp8Ws0SyumK8PBGHSJCVur9N9Sev1nrsbM+4TxO11WtRmJb+dIjHYGu3VpsNsW02FB6LvmXXh9Gu0Zfm4SaWR29a43Hrfcrtvmpxxr7OIllU3zhEWt4XhyawZP/7biGO3VrY6sL9aGNHNiu4tWh2526KhNuWzfTG/uoPY7pE29ct29f3/FPAiRUP1IEwe7IuW7EfRHG6AKBXSFMjaiNcY8TLuARAEQRAEQRAEQRAEQRAEQRAEQRDEOWlzDlvJlT3Ri2ISgi/yf7P+G7CiSQjEr5mG/13YTXvXl8U40ZQX3sWNaB2EX5Foi8hA9JmCIFaMaOJ60mIuvAk6PRukaPFi6KKBuXAbTDVHIkUr7yhasSAam/jZl9B3FS1sxK4RonGIZ7sYuOIZDkOuEG4GnXsI8xEwotUHo7fFYK+tUR6sE4ERTQwmnt48MRW626VmztQ2qs/mh+Abt5/tgarNHLctnhY5+Ow+G24qlVuLZrHx3PXgVsca/W8v2gthnpv9qvHnA4k2wpm9t809NxVtqcOtEH7j24q23OHGjHPcVrRwz9O57/aJtvRJJwMj2tIUYO3u4nkj0ZYKGKbRcWPR+kAHqEI9edVoYEkE/aInBCeabdL6k1pI5JCPm67O9Vcv49rD1mkchLM+Uzun1p55IN30m/pKg5Hbosl3u1+8nZ7VzlfM8lqz4t72Ndw3kGgHINEOQKIdgEQ7AIl2ABLtABd5P0QQBEEQBEEQBEEQBEHsh/yeB6BByAPkJZoLnM/e45KXaDaAsM8/DDAv0Sz42MlkTtIzi5bMSXpm0ZI5Sc8sWrLgrfOKltBJel7REgbbYyIhSygINh1nCn6fBvUVw367V8BvUwOQgnDAdkjj438qRozETtJt0dphUVQNi5griGqcho++0tj5YRrzT3vzeEhztHnH3U4dVdZnVcObfgkxltuiJXeS4opnDT6ocWx2NXNGWVdBOQTJ96NweRvSPA6F12y8RFw9EbECMU5fPC06MGNCO8m0HoqLpRwWr7F0k3MI9lntLHTh089dy1P2ok0z6FYtE16a+dJvKrDXyujWAwotBneJB4ElnEF/GVQddLA0gb2vhemqoMwXF631Cm04Te8949z2eoz4f7/+Odg8ReHXoj0DohWDq4BEWxFt6dJuKVrHxksKYtL4NP8oWlR/33HR3JK7ajWN2zt3unMonoqF1sS9tGjTZ1/4YsXIhTf+Wys2D66+jDWrnUI031/MZw72pTtEzQoof68HWs6OCfRwd0InKV60ZrSOJ4e6yu9DtmxpVhi/J8q9nqLyPkdAlx63YmhCJ+me4imH5Sm1KZaNV6z8CXXmRaWALr0dyagnf2mPdeaoGsZS+DB+gZm+IpmTdG+dJg8PxIh3+2z9mNh1hiRO0m+aHLeFRDsAiXYAvGgXmR7iP8BMfONCBfr4T6lcwYhWvscmSDQgv1d4J+Bifs8/n+Xqn4/Ahk0AAAAASUVORK5CYII=" class="display-math" style="margin:0; vertical-align:-29px;" /></p>
<p>We are including <img width="49" alt="\text{pred n}" height="15" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGIAAAAeCAQAAAB9TAM/AAACEklEQVR4nO1XzbGDIBCmFSqhEeuwDJugB1qgAxvgzNGLB83uok9YAU3em4m+8WMyMcv+fUDYVYhvwNOYhP1K9D9CC+lPYr43CYR9SFwED4mr4CFRQis6cGrhWwgpND0boZhOkKNU0ZNO5rXoqQJYZheQej1DIs4pXMw4mrKBFwO4RcedcBCuAaOeBVp1Wph18MFEzDLXwJxbkke5Zv4NVIaeEkBbc4rElpMEWyQvya6vGWHSQ6JiSJI6nokmAguWWyhMMLPBklbqOaZlxHjyOAWyfbT+Q2aJmIFnMs+ChZUIG9z9bO5A+7NBwe+RJVL3W89JM0llL3LBOtpQleiMTEdnZEgrEFTMQzlWKad5J+FLfeh4jk5+0HFMwxVkwcpkKL5Hwh9ITjj2iVFOZ1qOWDy2S8Fng16OxJwhgUPdjUQ5oUuQGJLbIKeTanC475OQtM66qmN31SRYhuOEd9d0KlYpp1+T4HdLTkfRX5tfomahLmmWNwu8G6jl9DaJCYJuCAm0TGcfXO8OlIS9WT11u1l1+vX0IxIOFNbgMlPiPenIrO1WTSToxWuvEz+KmsQ5ilRGTydBViW7RCw1aJZ6xpHavA1zMvhqtNSwWep03O74tDCH7UPoS+VSiXk1TpHGa7OSAglEQ/f88TpxqKg+1GfVhxEO8bxtXQX/hkT1renqwDtjojph77sb+G69dp83I/ECq/jJ8Ai24fIAAAAASUVORK5CYII=" class="inline-math" style="margin:0; vertical-align:-4px;" /> here, which represents the predecessor of <img width="12" alt="\text{n}" height="7" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAPCAQAAABUrcdQAAAAZUlEQVR4nGNggIEyhj6G40BYBuUdB8MYBpzgLcNXhv9AeJxBkeEawzYGeyB9HMi/hlsLA1jBcaAShLkgQxbj1/AWRQEBO46DHYVpBAEbRjUMtIZrQOlfwDSETwQO/qPAMqwiQAAAPTthLvmYVhgAAAAASUVORK5CYII=" class="inline-math" style="margin:0; vertical-align:-0px;" />. Since we don’t have negative numbers, we define <img width="88" alt="\text{pred O = O}" height="15" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAALAAAAAfCAQAAADt9I/uAAADJElEQVR4nO1ay5GEIBA1FSMhEeIgDJMgB1MgAxPw7NHLHHSbhlmFafmIOk6Vj9opSxp8PH5Ns1X1W6grgYl9m4jF3fhYDJimSmWVktUISWHqqxf81ifx+00+KwggM1VzhsAcGvCCcgsYdlFzPLmf5ENAZQgswXYkxkeX1UnH4W58SKQL3IDltDH9Rshrj6T1g3w2kCpwjYuJ3MhlkDc7U/Vs3I3PJlIF1tPuFcjvI/lH4258NpEmsBkRIbsGLbZG1NG4G58A0gRW0SlXo0V/HLGz+AjQXnt0Ao0kPreeAy3se/2W4ZPbUxImkPZwFel4u7WmCTwi3bB/+UKba1DAZ7CFFQjdgxQc5PTdjreNgNwe/tRqz+SQ11thFTFJWtgcOrCqsGybKPCcIN5w4cZSyKdD/65bvWnxjV+8sVNg+p8MHJ6HlZVCK7fmteQt9nNMYJ7RoCtc/GI+WpaBMFeeTWf7Ry8qHJ9Gr8+Ys5dSo9Wvl4LIaFCoLo5DIS2FOqqYDyWE2RWZY+O7IZJ4pyU34jOvhu1v+chpUNi9F8kptL4W86Eb7ZorYo/sN96ZUi3pGaYIXN9sDS7mQzd6cBYOymayy8Y6LRukWz78LR8TOfrzbY5CIZ+9As+EwEuUtETgProumlF11dmpkE+JwNtilQgsoxtY3OJIFPKhGz3i+AzZuBY++gKBjdseO/vHJi2zIf6UFHP3ivhQjTZDXgZt9Lux8lHbz+g+nZK+RSF8to/HBgyT1t48xFPsVqKID9Vo3wegbBgu7H6vtZaGCfBxLzc9OG3iV3TDB7Jrz0UBH1X5oWQjjvBsPoWRH4tEvYr5Nx+5LOvKqNtYgsw58/qbsN18jI87/JvUuLq602FAm89K1nEJXXJwxqx06mEYEJpXX4pBEV/Nq+FY7ORjRqcOxii8mHxhSGeBe6j0Ny6BwSC9jnVeOZM7Qr60MbvaBv7S42DC3kPrehnUoy8dvxl13cVnmf48emykwYL/JbDOZTu+wGGO6IBob8Oq30Y2n5yb3gc78Ah8Mh6BT4YKnsgeFEHv7RP6weoZxWdA38W9o2CPwIfhDxk12TXdJaG1AAAAAElFTkSuQmCC" class="inline-math" style="margin:0; vertical-align:-4px;" />.</p>
<p>We can easily create a <code>Term</code> type in Haskell:</p>
<div class="sourceCode"><pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="kw">data</span> <span class="dt">Term</span> <span class="fu">=</span>
    <span class="dt">TmZero</span>
  <span class="fu">|</span> <span class="dt">TmSucc</span> <span class="dt">Term</span>
  <span class="fu">|</span> <span class="dt">TmPred</span> <span class="dt">Term</span></code></pre></div>
<h1 id="semantics-for-n">Semantics for <em>N</em></h1>
<h2 id="values">Values</h2>
<p>We’ve already mentioned that the natural numbers are either zero or the successor of a natural number. These will be the form of the values of <em>N</em>.</p>
<p>For the zero case, we have:</p>
<p><img width="104" alt=" \prftree[r]{V-Zero} {\text{O val}} " height="22" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAANAAAAAtCAQAAAB1oS04AAAEsElEQVR4nO1czbmjIBS1FSuhEeqgDJugB1ugAxtw7dKNC9/ABeMFLj+al3zzEo6beYDEcLx/BzJd94kQnfIuGY2Q2V5/5JK5pld9hc8GA4r27kdfazd2PBoh9NKa3k2PE9m5FIwz8yg9k3hcI7Qur/oK3wAJSzgm+ye96H1xFkPQTpC4Qjt76gm/HD3Y0Jrsn7uhYhZDUGyB1n7UE0/X0HXOjcXLa9Br91YDRcQZVqC+oRIi856Ple8/ZWcLzJuPXQ1V2CBSUFgr48cSxamhubffg83BYhvg1Q4qJMJGtr0ivWioAAOC5qh9KlQ/aaQot5B6ZlMfKWSfwlVdDJ6Hqry4brNVVU3a8mGYYUHD9327aQEiU/0Yq5wdMYbGg4YFUnITs7ju59B3Jv+9bltdPGPwbzqp+VhQ1ZC8rQCkqx+u2zFxyrOzBf6ylrwjm+71jH41Nun+L6MoTonnmxmYyqQHa5DXMdAp8J2T6x/0XwcFxr59uk2Mu2vffxRhNcQqK6AQzEk+FKRHh8WKPlUR/dZhxvNNWf3jA8FhYU+nNt78+kum7J2JVGRGC60SqcoP4WxJMnOK7V+48jmZXw1ttxQ0Sbo36ebanQvD14TGK9I1bmSroNIa8cev/JJb5Uy6bxq/yYd14MuHrX7i2HCkBT8EQfi5aILoiCa+T6foUTVEV0AqskkfU6L6wQTltIVGUAG2GmLVEqkPkSh3u4fjXMlocoImaCVbJWHBH4/BVUPyhobWuxgWu1H+WEhF5mN9wcUpsuilWz8eNoYsN4pAldz4mx8LaTcgQgrHhzulCWKkyrFmpKQi+qqg/D9CZaqYHHjyvtF702Xk5HqkEdAEUe2i4CwzkCBL2IMWM+zmv6vetWF7f8rwedIOSp8dVz8CjpKEqlyosWFrXSCGUeuFVbtDMLqxrlwTsgVShlmy96iv5ojG+rRnXgl3UgKP0m//8p9IdIt7hSeQRS1yd9i71m5xd233VHYJRh5/OVyKvRrPh87hLc/KboUAe9dNkXTo0htU69t0oy/NbcqwNXTK8NjbiqpGUAITqcOemAv9v4VGEAlWFDEGpHO9Eo0gEqrowrDO9eonaQRFWMla18dW0I6Yp+8ec/FI8WU63bBHJ2g5sxFEgJLeQ5SO8ZmizpK4o+LtPNwu3aijchBQEIcpZyOIAL9AUL5ktbmgn5APKHYxz0kaZStM7BtBBMQFgkpFYLzpy5HmpIJaK96XbwQRuEJQqVxlbkfmBP5ljgp6YzoaQQT6X4lBeBy2M6wQ97oHO8lGUCX26L2/N8bAP5okSZvrQRhVQGYjqAJzMQGwVlanJexorlhUN8c5djifzJsF1YI+bHRtxIkzUWDR5tYMs+ANrkZQFbYKLa7GwRmciYIKrNK4NExZI6gaea2trNX5OBKFcKMr1CtOOlTU0hDA6tm03LN01/b5baIQbp3l7GVJjml4gD5DbI9N1PyUHcP+Ps13ifFp5KURdA02vFPiy9VdfuoYOQs2BSc4A2GcXv8Ym7Pjhs4eiNjdL1uYXszt5gEHRha1HJINk2KP7nc0HPQ4K676xy6+7FDsFXBYvkUvZuk/UMkhdedx5g5/3tfjH3lb1iBeyW7YAAAAAElFTkSuQmCC" class="display-math" style="margin:0; vertical-align:-1px;" /></p>
<p>and:</p>
<div class="sourceCode"><pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="ot">valueTmZero ::</span> <span class="dt">Term</span>
            <span class="ot">-&gt;</span> <span class="dt">Maybe</span> <span class="dt">Term</span>
valueTmZero <span class="dt">TmZero</span> <span class="fu">=</span>
  <span class="dt">Just</span> <span class="dt">TmZero</span>
valueTmZero _ <span class="fu">=</span>
  <span class="dt">Nothing</span></code></pre></div>
<p>For the successor case, we have:</p>
<p><img width="127" alt=" \prftree[r]{V-Succ} {\text{x val}} {\text{(S x) val}} " height="37" src="data:image/png;base64,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" class="display-math" style="margin:0; vertical-align:-5px;" /></p>
<p>and:</p>
<div class="sourceCode"><pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="ot">valueTmSucc ::</span> (<span class="dt">Term</span> <span class="ot">-&gt;</span> <span class="dt">Maybe</span> <span class="dt">Term</span>)
            <span class="ot">-&gt;</span> <span class="dt">Term</span>
            <span class="ot">-&gt;</span> <span class="dt">Maybe</span> <span class="dt">Term</span>
valueTmSucc val (<span class="dt">TmSucc</span> tm) <span class="fu">=</span>
  <span class="dt">TmSucc</span> <span class="fu">&lt;$&gt;</span> val tm
valueTmSucc _ _ <span class="fu">=</span>
  <span class="dt">Nothing</span></code></pre></div>
<h2 id="small-step-rules">Small-step rules</h2>
<p>We have four small-step rules: two of them are reduction rules, and two of them are congruence rules.</p>
<p>The reduction rules define the predecessor function.</p>
<p>For <code>pred O</code> we have:</p>
<p><img width="196" alt=" \prftree[r]{E-PredZero} {\text{pred O} \longrightarrow \text{O}} " height="25" src="data:image/png;base64,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" class="display-math" style="margin:0; vertical-align:-4px;" /></p>
<p>and:</p>
<div class="sourceCode"><pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="ot">ePredZero ::</span> <span class="dt">Term</span>
          <span class="ot">-&gt;</span> <span class="dt">Maybe</span> <span class="dt">Term</span>
ePredZero (<span class="dt">TmPred</span> <span class="dt">TmZero</span>) <span class="fu">=</span>
  <span class="dt">Just</span> <span class="dt">TmZero</span>
ePredZero _ <span class="fu">=</span>
  <span class="dt">Nothing</span></code></pre></div>
<p>For <code>pred (S n)</code> we have:</p>
<p><img width="227" alt=" \prftree[r]{E-PredSucc} {\text{pred (S $v_1$)} \longrightarrow \text{$v_1$}} " height="27" src="data:image/png;base64,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" class="display-math" style="margin:0; vertical-align:-5px;" /></p>
<p>and:</p>
<div class="sourceCode"><pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="ot">ePredSucc ::</span> <span class="dt">Term</span>
          <span class="ot">-&gt;</span> <span class="dt">Maybe</span> <span class="dt">Term</span>
ePredSucc (<span class="dt">TmPred</span> (<span class="dt">TmSucc</span> tm)) <span class="fu">=</span>
  value tm
ePredSucc _ <span class="fu">=</span>
  <span class="dt">Nothing</span></code></pre></div>
<p>The two congruence rules deal are used to keep things moving on when <code>S</code> and <code>pred</code> are wrapped around something other than a value.</p>
<p>The rule for <code>S</code> is:</p>
<p><img width="154" alt=" \prftree[r]{E-Succ} {t_1 \longrightarrow t_2} {\text{S $t_1$} \longrightarrow \text{S $t_2$}} " height="34" src="data:image/png;base64,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" class="display-math" style="margin:0; vertical-align:-3px;" /></p>
<p>which corresponds to:</p>
<div class="sourceCode"><pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="ot">eSucc ::</span> (<span class="dt">Term</span> <span class="ot">-&gt;</span> <span class="dt">Maybe</span> <span class="dt">Term</span>)
      <span class="ot">-&gt;</span> <span class="dt">Term</span>
      <span class="ot">-&gt;</span> <span class="dt">Maybe</span> <span class="dt">Term</span>
eSucc step (<span class="dt">TmSucc</span> tm) <span class="fu">=</span> <span class="kw">do</span>
  tm' <span class="ot">&lt;-</span> step tm
  return <span class="fu">$</span> <span class="dt">TmSucc</span> tm'
eSucc _ _ <span class="fu">=</span>
  <span class="dt">Nothing</span></code></pre></div>
<p>and the rule for <code>pred</code> is:</p>
<p><img width="200" alt=" \prftree[r]{E-Pred} {t_1 \longrightarrow t_2} {\text{pred $t_1$} \longrightarrow \text{pred $t_2$}} " height="35" src="data:image/png;base64,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" class="display-math" style="margin:0; vertical-align:-4px;" /></p>
<p>which corresponds to:</p>
<div class="sourceCode"><pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="ot">ePred ::</span> (<span class="dt">Term</span> <span class="ot">-&gt;</span> <span class="dt">Maybe</span> <span class="dt">Term</span>)
      <span class="ot">-&gt;</span> <span class="dt">Term</span>
      <span class="ot">-&gt;</span> <span class="dt">Maybe</span> <span class="dt">Term</span>
ePred step (<span class="dt">TmPred</span> tm) <span class="fu">=</span> <span class="kw">do</span>
  tm' <span class="ot">&lt;-</span> step tm
  return <span class="fu">$</span> <span class="dt">TmPred</span> tm'
ePred _ _ <span class="fu">=</span>
  <span class="dt">Nothing</span></code></pre></div>
<h2 id="strict-versus-lazy">Strict versus Lazy</h2>
<p>The rules we have seen so far are for strict evaluation.</p>
<p>The usual distinction between strict and non-strict is related to whether evaluation continues inside of function abstraction or not.</p>
<p>We haven’t covered functions yet, but we now have something similar. Recall that constructors in Haskell are functions, and that natural numbers would be represented by:</p>
<div class="sourceCode"><pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="kw">data</span> <span class="dt">Nat</span> <span class="fu">=</span>
    <span class="dt">O</span> 
  <span class="fu">|</span> <span class="dt">S</span> <span class="dt">Nat</span></code></pre></div>
<p>so we have a function</p>
<div class="sourceCode"><pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="dt">S</span><span class="ot"> ::</span> <span class="dt">Nat</span> <span class="ot">-&gt;</span> <span class="dt">Nat</span></code></pre></div>
<p>With strict evaluation we evaluate the arguments to <code>S</code> - using <code>V-Succ</code> and <code>E-Succ</code> - when we come across <code>S n</code> as the top-level term.</p>
<p>With lazy evaluation we don’t evaluate the argument to <code>S</code> in either of those cases. The rule <code>E-PredSucc</code> can still move things forward when we have a <code>S</code> inside of one of our terms, but the outer ’S’s are left alone.</p>
<p>This means that for lazy evaluation we completely delete the <code>E-Succ</code> rule above and rely on the other rules to peek inside of the <code>S</code> constructor.</p>
<p>We also need to update the <code>V-Succ</code> rule so that it doesn’t look inside of the <code>S</code> constructor, and so we have:</p>
<p><img width="127" alt=" \prftree[r]{V-Succ} {\text{(S x) val}} " height="27" src="data:image/png;base64,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" class="display-math" style="margin:0; vertical-align:-5px;" /></p>
<p>and:</p>
<div class="sourceCode"><pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="ot">valueTmSucc ::</span> <span class="dt">Term</span>
            <span class="ot">-&gt;</span> <span class="dt">Maybe</span> <span class="dt">Term</span>
valueTmSucc (<span class="dt">TmSucc</span> tm) <span class="fu">=</span>
  <span class="dt">Just</span> (<span class="dt">TmSucc</span> tm)
valueTmSucc _ <span class="fu">=</span>
  <span class="dt">Nothing</span></code></pre></div>
<p>For now we’ll stick to strict evaluation, but we’ll come back to lazy evaluation later in the series.</p>
<h1 id="the-rest-of-the-story">The rest of the story</h1>
<p>From this point, we just need to write the code for <code>QuickCheck</code> support, parsing and printing for <em>N</em> and we’re done.</p>
<p>And that’s all we need to do. If we copy the tests and the REPL across from the <em>B</em> project into the <em>N</em> project, they’ll still work.</p>
<p>That’s partly due to using the same interface, but also partly due to the form and robustness of the PLT theorems that we’re using for our properties.</p>
<p>We are going to look at more uni-typed language before we add some new concepts into the mix. <a href="i.html">Read on!</a></p>
<h1 id="exercises-for-the-adventurous">Exercises for the adventurous</h1>
<ul>
<li>Complete the <code>QuickCheck</code>, parsing and printing for <em>N</em>.</li>
<li>Devise semantics for <em>I</em>, with terms for integer literals, <code>+</code>, <code>-</code>, <code>*</code> and <code>^</code>.</li>
<li>Implement <em>I</em> in Haskell, including the semantics, <code>QuickCheck</code>, parsing and pretty-printing.</li>
</ul>
    </div>
    
    <div class="panel-footer">
        <h5>Posted on June 10, 2016 </h5>
    </div>
    
</div>

            <div class="row">
                <div class="col-md-5"> Site proudly generated by <a href="http://jaspervdj.be/hakyll">Hakyll</a> </div>
                <div class="col-md-7">
                    This work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by/4.0/">Creative Commons Attribution 4.0 International License</a>
                    <a rel="license" href="http://creativecommons.org/licenses/by/4.0/"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by/4.0/88x31.png" /></a>
                </div>
            </div>
        </div>

        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/js/bootstrap.min.js"></script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-59162164-1', 'auto');
  ga('send', 'pageview');
</script>

    </body>
</html>
