<!DOCTYPE html> 
<html lang="en">
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>Dave Laing - The semantics of B</title>
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap.min.css">
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap-theme.min.css">
        <link rel="stylesheet" href="../../css/custom.css">
        <link rel="stylesheet" href="../../css/syntax.css">
        <link rel="alternate" type="application/atom+xml" title="Atom - Little Languages" href="../../atom.xml" />
        <link rel="alternate" type="application/rss+xml" title="RSS - Little Languages" href="../../rss.xml" />
    </head>
    <body>
        <nav class="navbar navbar-default navbar-static-top">
        <div class="container">
        <div class="navbar-header">
            <div class="navbar-brand">
                <a href="../../">Little Languages</a>
            </div>
            <ul class="nav navbar-nav">
                <li role="presentation"><a href="http://dlaing.org">Back to my main site</a></li>
            </ul>
        </div>

        </div>
        </nav>

        <div class="container">
            <div class="panel panel-default">
    <div class="panel-heading">
        <h3 class="panel-title"><a href="../../drafts/b/semantics.html">The semantics of B</a></h3>
    </div>
    <div class="panel-body">
        <p><a href="../b.html">Previously</a> we introduced the <em>B</em> language.</p>
<p>We were left wondering how to work out what our evaluator should do, and how we should determine if it is behaving correctly.</p>
<p>It’s time to bring some PLT into the mix.</p>
<h1 id="values">Values</h1>
<p>A subset of our terms will be <em>values</em>.</p>
<p>A value is a term that cannot be evaluated any further - that’s what it means to be a value, hence the name <em>evaluator</em>.</p>
<p>The evaluator should be able to transform any term in our language into a <em>value</em>.</p>
<p>For the language <em>B</em>, the values can be defined as:</p>
<p><img width="75" alt=" \begin{aligned} v =&amp; \ true \\   |&amp; \ false \end{aligned} " height="39" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJcAAABOCAQAAACHp0wVAAAFGklEQVR4nO1cy6GrIBC1FSqxEeqwDJuwB1ugAxtw7dJNFskbPjcwfBRQYnzhuEj8BMeT4TDojE3zveibuSFXG3EfPJtXQ6824i6gQNbzaiPugxHomq824j6Yga7xaiPug8e9lKttGCydsYXAel/4rATOyJceyHqp75q0ESwYkH0jGjtdmzkobHfRitZ0e4dAmwUa7MBkTdD0AfFt4bx84b71UN/Z+/wd7H+K9QE6K6dxadZNm3mLL9junmWFo4gg+LBCEmiOiE/zVIP4xz/TQVzlooq2ReyR+5iwSMJvsxwyJtTSAJSbW+ajfWZULtpbp57fxrmgIk6KW/bNc2MuprrUwxgxmfF9y2azww2Otx3ukH8OPln/cb/ZGbvoZS9W98Vc8hKJoLs1jtyz+YmOb6113uLDq20JYF7TOCG2CpSBL+aSNnHfWd0fNCGbqdBAjcnyrRZaO0Xspdtio7u37JZFOObi3W/LBttmrFySTCY8nI+KCxxrj6PZsHs9N/YzQh+eLa47ymfbjNd7pZx2gHIC5D+BVeYzXTE8W/TZtL0fKxUrFwq5KkE3u8FfxBSzbI+M4dliWLn8+23imScGOwmuSkybIwhRUXLMsj0yYuUyidtTLnu/Vq5etPhBulor2CsHc7aIB5c95bJt1sRL1e28dJEzrmxwTn0wOomGjtQbFalL7CmX9CZtM1XzTtmOxAOFFfKo5QzRJ9DrddNT8cm1xvqmC591T7nw/JD7zKTo0j7aWyPneN4Nbiomub1o8nNkyekUn5jYQwKLuAMm54OdmDgTWFZYG5CP9nBVPPIaYc9yVoiqTe/OC+SiQbxnJZGW4JjK11LcVKyioqKioqKioqKioqKioqKioqKioqKioqKiohiWjz0L/y/wOvDUkorM559CLl08r5mnAEyJ+YtUJEitO5k7X4s8uvjDe564JLOrU9CKBIDXIa++EHlmjyoRZM7K/mtRTs+tkEfXqjK+OuiM6clFbib9bZBD11HvmO6qXHl02XUYqXjcVbny6NrLSN3GjZUrj67Fye9PwY2VK5Uumbb2FFmDW4UDvbeOUSKsXFTlYYf+ilMrHvOQRtdfiPmyKhtN8JRQnmZMRFrl4NR7+JWLwG9kgUtrJWNKnFzxmIv0zthtJvDi/OzZISekXLNVOYT/iNMrHnORThdr7PJNDTtPfnDI8StXh3zQrhIpUPGYi3S65qD2EOFL5qTbvVC/cjH0uxF8SVtVpOIxF+l0rcHfMKebuuT4lWsWtPopKFjxmI50usKVGk8nzz5WuWSnfYlBAlNRtOIxHal0dc3LKUuRkLWJ5ijokhOOuVijK8NXVKRQrOIxB6l0hYv13NrEWOWSIHA8U2GKPqZgxWMOUukKT4DmCHJiZou4aK9gCV8OUulagiV5i5cc2X2kP5qdU3soA+/BLf5HdNnvGtCw/Y465OjOqet85VF4gDDbKVjxmIM0urbe4dWhyyRCheSF9sY7TJj6pstJH3Dp5kjLI3hzvVjFYw7S6HJfzWBieV8Yf/DBp+KL2i79kSq6CIrOcLzFZ5yYioIVj+lIo2v7ThcRUVEvpsCcgkFcqBlJTUDGYPlGC0fwyXgniJg9flO04jENqXck9l5RRFF01DpPIqm3brHdrWj8korHNLq+Kga6AjF0EeUvdLMr/gT26ZJjHFeMMRhE/Az26eqav2fO66/7Vgxd/H4T960BTX1/FDHaRcUAvvfql5/AbR+QXoPL7yAdwz+o/UQirWEbCQAAAABJRU5ErkJggg==" class="display-math" style="margin:0; vertical-align:-17px;" /></p>
<p>We can also define them in <em>natural deduction</em> style.</p>
<p><img width="287" alt=" \prftree[r]{Rule-Name} {assumption_1} {assumption_2} {conclusion} " height="33" src="data:image/png;base64,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" class="display-math" style="margin:0; vertical-align:-1px;" /></p>
<p>If <img width="92" alt="assumption_1" height="14" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAALgAAAAdCAQAAACz624RAAAEgElEQVR4nO1ZzbGjMAymFSqhEepwGTRBD7TgDmiAM0cuOYQnywbrzw6Z2d1k86LMvBdsS/4sy5+F0jRfCdI2c+NfDeIzZWgWcK8U3+zw+cpfkDs4tletQ3Nrpheg+Xjpwd33V4P4TTKBw5dXg/hNsoDDv9TxD+VmMvjLZYBb2zeuMqLHEb4Zn+jtTKs9tFOZmN6QLHWiZRJaDehkvRafslYLs4bPgLlI/H643UaVMU9pJTyzsVBqTJekhyhYQDVkpiN8dES00L8gxA76VwGl1NvD9w7ad4BHF7RDe5ag2cG15lFjAQsRyR1R6JZDwnJbQB5sOfgb5gjYxzTLip8Q37f03VdQHSuZYXSYL2wKnW+uonxKAsj8ArAgRLn7C7t2JvHCYPe2yfWtcHC4xObzqU+jV5w1b1bQ2tA5tCXbadN3j+izveACGnWSwUuoIpYbzJmDKduqoZRWHogTKqPxOuBYzMtbv9Q7pVgbVETv5GjOSTdGIj05O+rJljzPeFqT+KmDZQ5eQhWcehcI3BkavoryCWnRBI2I0dgzz8ZMAMxd6N1Sy2y4II9fE45dnKtOtbRscce7o7wSeQDpHLyEKvTIk92e2nWUT4jHg0tlZgQTJUZR6Xoo9R7EsjMH9xgjctSgcNgtq9DrlEM9G6VzcBuV5Ym4eftDlJpSOkJxQu5qny0GjzSz49Wqc5THvZzhdwOOV9t8pUVbjwGTXVDKwbWe9kSTMpxnMDmwPKMtU6JBeiBLR8Qnp+64x7IQVOvljK2fo+jjvKkswgoFmxjyhtpVlDiKotCeONZ1F1ocgcTkMXtZSw6XBm0GjxLz3A2B6aJmqTceXboFnMHpKN1C9eyKiGTwGDBjVadERHrkxs6BRlmyX3S4vOFtBufii1ti9UrWsyFqJtRsaRGKdtyILcdGlaooXtHabKxKXtsapbYTpejwVS0iR8wBNKT//Gjzq6vWq92UGXwgVHCFrzOy8XSCZmK+Is7geWS2NSVb1nbK4KlhmhixVCmFmujJoVlIC2fJrFPvtWbILvCECh4zOM1tcm4uz2MclYmIEo47Rw6GrUk5s4VQ4m+REqUzMcWngsMdm6ZFk2sCNaURN1gWNTaSI1vv1QvpySGl74ySr3VL3jiact3EkV6FiyjnZpdkW/2p3SkKW8SWX8UU5yrm5uu5R+GV1wHgNbV35wh6xYWX357p13p53SRUHubkcEe24QqD5/LDcs4YGTw/67rGdi58Js47bLUsLicSv7FGws+cRkkx8cys4vAw6YKVrwg8Fn9oPt3B04y8OWHNRDq01hth3bHw4xFWOEWzKH95RUu6pcHi08BmiAwekrARLc4q++mx2DSmwlaWDVtWgXaEcPGINPy3Ul+JaVOYDqzVt8+eFC4brKNJ4F0qb+ofYh/3BnFsBqdeoGV2rVsOPTpHzsGdgTlbumKLtttl22uYojxw+P8qb/rDQvOhDtc5+PvIRzpc5+DvI9snOvzxO/ErxEN0xwJH/JXpQ8SnctlW/IX1K39UJkjGHCZw3vhd8u3kB3tnZ4JyOf3dAAAAAElFTkSuQmCC" class="inline-math" style="margin:0; vertical-align:-4px;" /> and <img width="92" alt="assumption_2" height="14" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAALkAAAAdCAQAAABcKQUvAAAEnklEQVR4nO1ZzZGrMAymFSqhEepwGTRBD7TgDmiAM0cuOYQnywbrzw55M7vJ7kaZySSyJX/IkiyLpvlQoLaZG/9qEL+VhmYBA0vyzQ6fD30J3cG0veIOza2ZXoDmD1APBr+/GsTfoglMvrwaxN+iBUz+SSDfSjczk78BDXCC+8ZVZvQ4wzfjE6OdqbUHPqWJyQ1JUyc4k5BqQCbLtfgvS7WwavgMWJfE34fhbVQZ85SehFc5FkqN6SL14AkLCIdKdYSP9ooWxhcE2cH4KsCURnv43QF/B4D0kXbgZwqSHRxwHiUW0BCR3BGF5hwUHrgF5EGXg++wRsA+plVW/AQfv6XfvoLqeJIZZof1wrbQ9eYqyicpwMxXggVBSg9Y2AE0iSuEPdom47fCxOE4m89/fZq94qp5u4LUhuahnKynTb89os/6ghGo58lMXkIVsdxgzexOWVcNpdTykJwQGo0LgmN+LyuA0uiU/G1QXr2TAJ2TbPRGGj07yklOXmc8tUn81MSyJi+hCma9CwTudA5fRfkUtaiEesVo7JtncyaA5i6MbokzG0bI89eEYxex1SlOyx7vuE/Kw5G7kK7JS6jCiIzu9pSuo3yKPIYvpZmlmUjRk0oHRWn0SC87M3GPfiJnDQqHzVmFXKdM6tksXZPbqCxLxO3bH6JchYwHzlwoMprocXyvrUwek82Oh6xW9XiUZ3qayQ/yaqOvcLT26DLZCKWaXMtpSzSp2nkGk08pKDQTbtbBGlXSgVKg+GTWHfdZtohqozxz6/+RdFBvqqKwnMFOD3lL7e5KnEVRaEscz3UXUhwBxzQQ83cq65sq7UweKda9G0LTLc/SaAxgujDP5HSW5lA5u1MiM3l0mbEqU0pHeubGYkGjlPoXrLEOWi3nkqe9nck5+eKmWKMy+9lG0BlRZ00rrWjTjcg5tqrUXfEquc3GU8kDXKOUelaG0UIspgTKXnNADRcCHuD8EKuN6mVzJh9IQriStzOy8TSDzsj8iXgmzzOzrinpsswj3aeGKeoJ1XuOTPMckUp6EjoL4XDBLFMftVbIMDwJwceZnNY5uVaXMdmL/EnTjjtnDoauSZmzBWfiN0uJ0pmYqLxOoSjkyaTt3NfDBx0onZm6kQRufVQ/Sk9Cld4jZd7WnLx1HQnlmwpsbiSae7NRsq7+lO5UIlvEpl/FREfN/uV67lO4CDuAvCZ+d86gO9WL0qc+yvspoSMxJ5M7shFXMnluSiznijGT5/+637GdJp+J+Q5dLfPNifhw7J3wuNMoKSbp4706LU4Kyy5Y3ETosS1E6+sO/s2YPyfspUiT1kYjsDu2hDwCC5E0i8aY9gfLQ1ZsXNEVYiYP7asRNc4qjHtsQ42p5ZVpQ84q0I7gMB6R3lhOLmPaFKa8bvEqFCc4ItRhx4xTl5qf+pXt49FAjq3g1LVaVtuac8jRNXJN7gzMWdMVXZRvN3WvYQrUwZbVmuA/mN7z1UNLosc19YL7h5Guyd+B2rMzGmj6Xd6ua/LXUziptvQ6ZMU7wn++M3pPenxP/n5aml18fg351Ejb1LvWD30RTVCaOTycvPH+8g3pH47UfN4IJ18NAAAAAElFTkSuQmCC" class="inline-math" style="margin:0; vertical-align:-4px;" /> hold, then we can conclude that <img width="79" alt="conclusion" height="12" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJ8AAAAYCAQAAABOp+cLAAADW0lEQVR4nO1YzbmlIAylFSuhEeqwDJuwB1ugAxtw7dLNXVxfQMT8QC5+8znzZt7Exb0SOMkBEoLGfB9xZoVnM7vxf9qVv1Gs6WHidnj6B9A7M//7y2Lj9D0h/jHkbyQjUFwfQR7My0yPIH8jmf9nvl+R10OZ70fIc5nvR8hzme+3ioUk6+EZ4bhv002x5ZQh9pig7z0LMvPZ2IuHs6sgu9gbe1LH0D25zyhJqI9eMNDCvwH2givqgkvvrJvBOQvvPlJY0ugZ9WizwDNfKKRDNbhDP0y4tEc7sLvE0Raw1zwZZQydz11GyOE31P2n6TBgQboX0pkIZs2x5kHWSH5Fo0s06xZ45usSFseZ4H0WuAvy9Ng7GobG5y6jCjUTL1Ar0r3IBu8TDZ9WJOwd2kMeBJoFnvmmFDwDa1/gnYbn4YtDI/c0mTUMjc89Rlm6SAYHzxs5ynXHWryNSW514rolz1HdAs98G2qf2Biegzxpm6BPr2JofO4wYi5spKXLLkndsVp71AUZRA+54poFmfnO8NvJ1Li4I7gs0ZZM7GUMnc8dRkjeYoV03UDWwotTU7ZoFmorO+ZAPKSc+cY4OkzsIgJbYrTwaWPEBpcP5kPHzxyfN3sQGQx8N2kW6jUfz3SlzHd6cz6boUXIxsa08GlhxAbLoCgDX/DnmnZi7zgxRrNQu+0euHgySpnv7DsCwhZHYCRb9ETn08YIyarE9VzQWZJYy3mOBplmobayPP+oFJDllb1TTz7zaWPEIGvfOkoxT52UPV45PKbklGYBZz6cpTjulfmGnLtCwUtLYkpcevKZTxsj5lgpeOairgOXcQXO80SPAvUsOzULV+ZzpA8nseSUf9ZmLk48PQbwmKHJE86njRESWzjKXbpSSV2gca24zFAXbZs3vGbh6u8JCUrUoQA7d0oPpGZie4SJuN4vZKd4Qvm0MiLi2XxPANrl/5fuuPvxM5XmiTEbWxiVsgWX+neMFr7fBrtzQujRpNJ6L1zF8AKMGRnvGZ1POyMiE5gO3yYmAFxZeTAmnY+/FMAXqqgNEAYwRcuDuoXj8r6KciLspTnaDW6H6Z3JJ4EwxUts6+NycIunJxxZ43OHEZM+PuX5PXRSumJrDadmwal2HXnjYj/6XfekJI2MvgCK3tHsQnSknwAAAABJRU5ErkJggg==" class="inline-math" style="margin:0; vertical-align:-1px;" /> holds. We also say that we can derive <img width="79" alt="conclusion" height="12" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJ8AAAAYCAQAAABOp+cLAAADW0lEQVR4nO1YzbmlIAylFSuhEeqwDJuwB1ugAxtw7dLNXVxfQMT8QC5+8znzZt7Exb0SOMkBEoLGfB9xZoVnM7vxf9qVv1Gs6WHidnj6B9A7M//7y2Lj9D0h/jHkbyQjUFwfQR7My0yPIH8jmf9nvl+R10OZ70fIc5nvR8hzme+3ioUk6+EZ4bhv002x5ZQh9pig7z0LMvPZ2IuHs6sgu9gbe1LH0D25zyhJqI9eMNDCvwH2givqgkvvrJvBOQvvPlJY0ugZ9WizwDNfKKRDNbhDP0y4tEc7sLvE0Raw1zwZZQydz11GyOE31P2n6TBgQboX0pkIZs2x5kHWSH5Fo0s06xZ45usSFseZ4H0WuAvy9Ng7GobG5y6jCjUTL1Ar0r3IBu8TDZ9WJOwd2kMeBJoFnvmmFDwDa1/gnYbn4YtDI/c0mTUMjc89Rlm6SAYHzxs5ynXHWryNSW514rolz1HdAs98G2qf2Biegzxpm6BPr2JofO4wYi5spKXLLkndsVp71AUZRA+54poFmfnO8NvJ1Li4I7gs0ZZM7GUMnc8dRkjeYoV03UDWwotTU7ZoFmorO+ZAPKSc+cY4OkzsIgJbYrTwaWPEBpcP5kPHzxyfN3sQGQx8N2kW6jUfz3SlzHd6cz6boUXIxsa08GlhxAbLoCgDX/DnmnZi7zgxRrNQu+0euHgySpnv7DsCwhZHYCRb9ETn08YIyarE9VzQWZJYy3mOBplmobayPP+oFJDllb1TTz7zaWPEIGvfOkoxT52UPV45PKbklGYBZz6cpTjulfmGnLtCwUtLYkpcevKZTxsj5lgpeOairgOXcQXO80SPAvUsOzULV+ZzpA8nseSUf9ZmLk48PQbwmKHJE86njRESWzjKXbpSSV2gca24zFAXbZs3vGbh6u8JCUrUoQA7d0oPpGZie4SJuN4vZKd4Qvm0MiLi2XxPANrl/5fuuPvxM5XmiTEbWxiVsgWX+neMFr7fBrtzQujRpNJ6L1zF8AKMGRnvGZ1POyMiE5gO3yYmAFxZeTAmnY+/FMAXqqgNEAYwRcuDuoXj8r6KciLspTnaDW6H6Z3JJ4EwxUts6+NycIunJxxZ43OHEZM+PuX5PXRSumJrDadmwal2HXnjYj/6XfekJI2MvgCK3tHsQnSknwAAAABJRU5ErkJggg==" class="inline-math" style="margin:0; vertical-align:-1px;" /> from <img width="92" alt="assumption_1" height="14" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAALgAAAAdCAQAAACz624RAAAEgElEQVR4nO1ZzbGjMAymFSqhEepwGTRBD7TgDmiAM0cuOYQnywbrzw6Z2d1k86LMvBdsS/4sy5+F0jRfCdI2c+NfDeIzZWgWcK8U3+zw+cpfkDs4tletQ3Nrpheg+Xjpwd33V4P4TTKBw5dXg/hNsoDDv9TxD+VmMvjLZYBb2zeuMqLHEb4Zn+jtTKs9tFOZmN6QLHWiZRJaDehkvRafslYLs4bPgLlI/H643UaVMU9pJTyzsVBqTJekhyhYQDVkpiN8dES00L8gxA76VwGl1NvD9w7ad4BHF7RDe5ag2cG15lFjAQsRyR1R6JZDwnJbQB5sOfgb5gjYxzTLip8Q37f03VdQHSuZYXSYL2wKnW+uonxKAsj8ArAgRLn7C7t2JvHCYPe2yfWtcHC4xObzqU+jV5w1b1bQ2tA5tCXbadN3j+izveACGnWSwUuoIpYbzJmDKduqoZRWHogTKqPxOuBYzMtbv9Q7pVgbVETv5GjOSTdGIj05O+rJljzPeFqT+KmDZQ5eQhWcehcI3BkavoryCWnRBI2I0dgzz8ZMAMxd6N1Sy2y4II9fE45dnKtOtbRscce7o7wSeQDpHLyEKvTIk92e2nWUT4jHg0tlZgQTJUZR6Xoo9R7EsjMH9xgjctSgcNgtq9DrlEM9G6VzcBuV5Ym4eftDlJpSOkJxQu5qny0GjzSz49Wqc5THvZzhdwOOV9t8pUVbjwGTXVDKwbWe9kSTMpxnMDmwPKMtU6JBeiBLR8Qnp+64x7IQVOvljK2fo+jjvKkswgoFmxjyhtpVlDiKotCeONZ1F1ocgcTkMXtZSw6XBm0GjxLz3A2B6aJmqTceXboFnMHpKN1C9eyKiGTwGDBjVadERHrkxs6BRlmyX3S4vOFtBufii1ti9UrWsyFqJtRsaRGKdtyILcdGlaooXtHabKxKXtsapbYTpejwVS0iR8wBNKT//Gjzq6vWq92UGXwgVHCFrzOy8XSCZmK+Is7geWS2NSVb1nbK4KlhmhixVCmFmujJoVlIC2fJrFPvtWbILvCECh4zOM1tcm4uz2MclYmIEo47Rw6GrUk5s4VQ4m+REqUzMcWngsMdm6ZFk2sCNaURN1gWNTaSI1vv1QvpySGl74ySr3VL3jiact3EkV6FiyjnZpdkW/2p3SkKW8SWX8UU5yrm5uu5R+GV1wHgNbV35wh6xYWX357p13p53SRUHubkcEe24QqD5/LDcs4YGTw/67rGdi58Js47bLUsLicSv7FGws+cRkkx8cys4vAw6YKVrwg8Fn9oPt3B04y8OWHNRDq01hth3bHw4xFWOEWzKH95RUu6pcHi08BmiAwekrARLc4q++mx2DSmwlaWDVtWgXaEcPGINPy3Ul+JaVOYDqzVt8+eFC4brKNJ4F0qb+ofYh/3BnFsBqdeoGV2rVsOPTpHzsGdgTlbumKLtttl22uYojxw+P8qb/rDQvOhDtc5+PvIRzpc5+DvI9snOvzxO/ErxEN0xwJH/JXpQ8SnctlW/IX1K39UJkjGHCZw3vhd8u3kB3tnZ4JyOf3dAAAAAElFTkSuQmCC" class="inline-math" style="margin:0; vertical-align:-4px;" /> and <img width="92" alt="assumption_2" height="14" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAALkAAAAdCAQAAABcKQUvAAAEnklEQVR4nO1ZzZGrMAymFSqhEepwGTRBD7TgDmiAM0cuOYQnywbrzw55M7vJ7kaZySSyJX/IkiyLpvlQoLaZG/9qEL+VhmYBA0vyzQ6fD30J3cG0veIOza2ZXoDmD1APBr+/GsTfoglMvrwaxN+iBUz+SSDfSjczk78BDXCC+8ZVZvQ4wzfjE6OdqbUHPqWJyQ1JUyc4k5BqQCbLtfgvS7WwavgMWJfE34fhbVQZ85SehFc5FkqN6SL14AkLCIdKdYSP9ooWxhcE2cH4KsCURnv43QF/B4D0kXbgZwqSHRxwHiUW0BCR3BGF5hwUHrgF5EGXg++wRsA+plVW/AQfv6XfvoLqeJIZZof1wrbQ9eYqyicpwMxXggVBSg9Y2AE0iSuEPdom47fCxOE4m89/fZq94qp5u4LUhuahnKynTb89os/6ghGo58lMXkIVsdxgzexOWVcNpdTykJwQGo0LgmN+LyuA0uiU/G1QXr2TAJ2TbPRGGj07yklOXmc8tUn81MSyJi+hCma9CwTudA5fRfkUtaiEesVo7JtncyaA5i6MbokzG0bI89eEYxex1SlOyx7vuE/Kw5G7kK7JS6jCiIzu9pSuo3yKPIYvpZmlmUjRk0oHRWn0SC87M3GPfiJnDQqHzVmFXKdM6tksXZPbqCxLxO3bH6JchYwHzlwoMprocXyvrUwek82Oh6xW9XiUZ3qayQ/yaqOvcLT26DLZCKWaXMtpSzSp2nkGk08pKDQTbtbBGlXSgVKg+GTWHfdZtohqozxz6/+RdFBvqqKwnMFOD3lL7e5KnEVRaEscz3UXUhwBxzQQ83cq65sq7UweKda9G0LTLc/SaAxgujDP5HSW5lA5u1MiM3l0mbEqU0pHeubGYkGjlPoXrLEOWi3nkqe9nck5+eKmWKMy+9lG0BlRZ00rrWjTjcg5tqrUXfEquc3GU8kDXKOUelaG0UIspgTKXnNADRcCHuD8EKuN6mVzJh9IQriStzOy8TSDzsj8iXgmzzOzrinpsswj3aeGKeoJ1XuOTPMckUp6EjoL4XDBLFMftVbIMDwJwceZnNY5uVaXMdmL/EnTjjtnDoauSZmzBWfiN0uJ0pmYqLxOoSjkyaTt3NfDBx0onZm6kQRufVQ/Sk9Cld4jZd7WnLx1HQnlmwpsbiSae7NRsq7+lO5UIlvEpl/FREfN/uV67lO4CDuAvCZ+d86gO9WL0qc+yvspoSMxJ5M7shFXMnluSiznijGT5/+637GdJp+J+Q5dLfPNifhw7J3wuNMoKSbp4706LU4Kyy5Y3ETosS1E6+sO/s2YPyfspUiT1kYjsDu2hDwCC5E0i8aY9gfLQ1ZsXNEVYiYP7asRNc4qjHtsQ42p5ZVpQ84q0I7gMB6R3lhOLmPaFKa8bvEqFCc4ItRhx4xTl5qf+pXt49FAjq3g1LVaVtuac8jRNXJN7gzMWdMVXZRvN3WvYQrUwZbVmuA/mN7z1UNLosc19YL7h5Guyd+B2rMzGmj6Xd6ua/LXUziptvQ6ZMU7wn++M3pPenxP/n5aml18fg351Ejb1LvWD30RTVCaOTycvPH+8g3pH47UfN4IJ18NAAAAAElFTkSuQmCC" class="inline-math" style="margin:0; vertical-align:-4px;" />.</p>
<p>We’re defining the judgment <img width="36" alt="\text{e val}" height="12" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAAAYCAQAAADzanM7AAABt0lEQVR4nO1Vy7HDIAykFSqhEeqgDDfhHtwCHdCAzxy55GAihMNHMARyeXkzWU9mHCFLiyQWxv4OFp8Lfl8CxQ7mmP8eQgH6R+gNfoTe4T8S2plBfdBMDP0EHNv88Nsqk0XcXgdGMxD3A0ISdOG8QwXXfpAXccse4ONR2mRKcKHN4bc7RIsrCiwueU0SkkQ1g/M2oMSgLiH9Udm2tBEBdDIE+F6pklOEgmqqKoSHGowRAp6VRUJ78lpJwTTkh4T2TvpAsS1zCYENKqdNp01pstZLPiB0NnuNNronCgs+uvjv0hsHe9nyRUJhGkx1chQWWffdE+rK7p0NcLxGNVJfIOQ7hPLxHeEqht+SsVVQ5QvibtD6xQr5iWr0kQdbpIEO4NhynSguEnJYoU+QB7ueGUsiLhLSKGcUfKJlebDL0Applg3MyXXH1kDgLND0x1CtX4iDvVUtb1Nlix14kbB10zjUjGprHxeKYK1HVNfsKqG4nI8tL+6od2gVO1Y819dArAc2kReeBmkPNq2AhIPwGlzPaTpxsBWxSTxl4cgfKCjxtsxXsa8e+nUVfE5/6FZ64LealTSHeALuSScBAThjYwAAAABJRU5ErkJggg==" class="inline-math" style="margin:0; vertical-align:-1px;" />, such <img width="10" alt="e" height="8" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAQAAAC8EZeQAAAAoUlEQVR4nKVSwQ3DIBDzKjcJi2QOxmCJ7MAKbJAF8ubZTx6lJiIpNG4VqT4JgTA+nwWg4BCRWLO8PUkZDwQYdwnrN9qMJ5buvPKJpBXq9ZDtHdUK1zcM23BuWD70HL0KPSOtsJVn1Ykz/XnlL+zEsBM9JkU5bBd6vIF0mfhfopdEG+Jv2FgjJj4VY9W5+9wiAzLdPlCzJhnZMP/+O2g5XpReYJo/F5iRGfYAAAAASUVORK5CYII=" class="inline-math" style="margin:0; vertical-align:-1px;" /> is a value if we can derive <img width="32" alt="e val" height="12" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAAAYCAQAAADgvTPPAAAB1ElEQVR4nO1WzbGEIAymFSqhEeqgDJqgB1ugAxvg7HEvHtaXBFzz49N5l/Xy4sw6kpAvIV/COvddiW6B5+U2V7+MPCS4BNAbPOmZAHoQGMCDUgB+eTKA+TkGdFn/GXDPgOAmqFIFY7mKa/zwPHznk/3ZWB5yy4BAgyKDcwRsn3UcIdjFG4NEZ2+1P0KNG1h60BbKNwr9DQMKOJzZdxtwHuA9vfkBFqpnFPt5fs3A3TDA1mcvwzTeWVk04S4pbTFwlwwIkP0Gv4d4yKB/v8YKHvrELDIrgad8+X4Ld8mAWZkHgN1pWAfEpiAS24Ez/uW4WLgLBnTnyN1EHF7geLUpZtTESmIAb3U6Fu6SAZmUmQJIirm7YMVla9aPZTaEtHCXDKgnLSWln5EXa7IAcv8fGVBvJ1Q2NY6i5e7hLmfAfQDVOJwZIZdTuDiCQ+ElkUwi0T3cxbOxpAMIYmRpbTRwR0nieSFWeKTg+D1oVRREUw3JtZ7+93W4PHrjCLGekzwrjk8AwSnngWRHiLO5hpaPFgd3AutlrIeRTg/AKyaJEFaaBBO4X1TDdRcrrGcKzd6CnmZHpisMIQsl1JifGfYXcaon0ueA/1UfSX+lPdzj7RmMXvj+ARl1Gd8CPa8vAAAAAElFTkSuQmCC" class="inline-math" style="margin:0; vertical-align:-1px;" /> from the below rules. In this case things are pretty simple, since we don’t have any assumptions.</p>
<p><img width="121" alt=" \prftree[r]{V-True} {\text{true val}} " height="22" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPIAAAAtCAQAAAA+Cf7VAAAERUlEQVR4nO2by52DIBCHbYVKaMQ6LMMm6MEW6MAGPHP0koNZXkZgePgI8bfJfFx2AVnXP4zMMDYNAuka7hUGerBs6woNxkmV9AhINaiWeWmesszN0LSgR9eMuvUh+3XJcTrbZ3zJacacXr8L/buo+c8gOZgWYEi2j3ICkOwIHFxvRHWhchKgyLdB9Lqbk+1T0xdG4HIi+ECRGzlK+m8g1TEmGRprBZErsAQH0yAmciMnE3Ib5p3Ko21Dot5lAhMkLjKa61t5SEni62yWb9MSULy4yFPh3Y5UhWtR4Lu33fUe3StyboeOVIdalydkPOnbxkVWLwbjedNm9a7Zq6UPfGlYs8LkfQlZ+A4rgzhMWpbQnD5OGtiUyEJaBtXSSRuh3uSb8yWAL7329e2Esi2TFVddjQGWA8S8ZQZco72kRF7bems1Fs9+cCBpWNPKK0TQXnLwEAfoLU+n36E5kZUwox1ZGeTWa8mLPGsrsEF1pA3ZTegt0wuPryRyfOSSyCxy5Zz08JEIrRZmM9BDJtRZoiQy3OKtLTmRp8iVEwzJip8vOXxv+XFh71oSOR5gKYm8WEPvlhGO1v18yTFoaZh9UnC1GenckqKOyM+IyKqgI3UA4njLMQ+Z77YL9UQuB1mRAsZbpruOJXLUEXn29gzISXrrLbOLK6aOyDx6JErQXB9l0W6KuOiWnBN5ACJPXg3VdxdKOmDU6yjmqOLq8f45kbtAZKr3+24NAwabFPNWvgyzGVoyG6IybSS8eRQjTmoUoTd3cWFmZ6US2bPXTp27dv1UI3LZ5vw7Ovnvz8DkHWWOHFTsJXSxnsGO2K+H90llnUka5PoAo3v13Zy/rlFHF1wnHcF0hQK04EX+D+Dm5Sj9zW4K1b6vEY8k/GB61j/uvsIHuy7yV3P3DH4PKHIWjiJ/Oyr7GEX+ctLe2/8CRU5AbQhgO+EwLsRn086od7KyOjEtOGuh0lFS48WT7FDkKEw/socN55liNvCfTTtj9i6eOpyx+n/bB2nM9lp9w07WzcBPRJEzpMz1Z9POzHdJfqSodyYH9U55VSx3CQIXKHKGlMifTjuDyTGtE63lep1vso5gSqDIGXIifzLtjNoTXXfUzvnZby1PNMQhJ3LVtDOACO7EPREiwReEKPIhciJXTTsD+BaARScF0YcR5gt+FHk37xf5fNrZ4mzQBDgRUil2ixy5t/t9FHk3dUQ+F17ZXhEUHJFPelTi9ESRd+OLKRL14RV10s62zVf4Db8IxkSRD/F+ka+kna2bL398c4Tumu/tL3JQgwCOi1wz7cxsvsLDz9y0Esk+yAvmPBwahB/uSDtbmjC7KeazCxT5CMRZd2744a60s5h/bmzDZglGOdpDG3Dy6jvqifBT+YtHUA/s0XAneeDOtDMahETXe5y0dejl1DHB1lbHr83k8e/3GzLWqtAeTg+rl3aWEomAT9d+LCk1xR8bPZRm5yUd9wAAAABJRU5ErkJggg==" class="display-math" style="margin:0; vertical-align:-1px;" /></p>
<p><img width="126" alt=" \prftree[r]{V-False} {\text{false val}} " height="22" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPwAAAAtCAQAAAAgwM5mAAAEq0lEQVR4nO1by7WsKhA1FSMhEeMgDJMgB1MwAxNw7NBJD+wLBX6g+FR777NZr2uzzhk0gtVsqB/VTcPIQTaj1xR6QmV7Y0+lWhkLtE3/Mf5jCKB+a966rc3QdOgJ2UzQ+9LPyeQ8lng7zxwQPsOnb4I0Ukuw6ieZ+IeggJgh2T9pOlrCPCPMg7dHC3TiTZWag4l/CC2c1TXZPzc9aZ4U8fYNaX0RzsHEPwarzuNnstVqnoY08U3WQwjnYOIfgwTK4g7YQHLMDHLE98RZmPiH8dILvkV7Vu0C0pAjXmitQp2DiX8QljRsy7uM7Y/PcSVeXcwHn/gqIVwoFmIi2mYDTHwsBBTaeJh4PT4zJt4EnBOEhb32N8Lto3SfmW0k6yVGABtvh2HbixTIWWDiJ0S80u+xWkBqXbIihzIkftZz7BIMQXLHaKPZEW7G0bco44JYNK+IltkiJF6iIE54OkXo/i3YWD7xY2BoxktfF2yDMWqqGATgaH4mRt8Wo8sA2tTrK+LqjeBCnlRPaKv5xK+Bam+9Pn92AflFxg2E0bz4cCFHpzMktB6MByb+fbHG2KL7n2zI1OwaQ0VopucHGR46oOVU7kMmjRsDtvFrQLxxzvpgRI74CehVF/L3TTNHXNEZJ54Xbq7lgyo/mn996CnTvHqDFi5kjMXOEy/cxY+hf/Y2wAZbVHptwkkoyc21vCocYJGVWzMc3C2OhrN9TryZd9Mk9VqW0om3iZ/zba9D/neEeNM4qLuF9hLNx+LsEWkQvzedudvnn+FUtpcReeIt5HG9u7uG6RQz4xZm537Rr2ZOlIlfPB+iTLxPrQD3zVrxNZiJ8ZfonWeubpynEvESpYhOmkf0iUGYUBKHPhpR6GnQsqq/jw1s6XIjMCoRnzvfS/QZnI3bI3vr9oU0D59n77qi4/Mr2NMwd0fmifcNyFIkPrT320GtQsq+JVYKHZAQLPR6WNlqWJem1oLAfyFdF0ndUtA6/yBtIuwpPc/kpN/1AnXeHhGEjdx3+t7g/58YvA05enK2n2op6XZOV3RN7NM1FwT+G+lWZFtLwGFefCU72BwmlBvcBU4H+XpLGR5v/ptrnQG+2XK5sLGQ+rMVSjqn4/KHjJf7miJIJ6ZR953x30tHrZa5h9ZF3CfShO09dkR8M4p78bu8LJMgDv+/E/8TUDeWqe6lrVu6anBnmepe2rqlqwZM/I+Cif9BGG9wgmRFeLPznYJA4d0z7T5sF9w85WVj4gkwy2dvoG3i48wJfacgUDV7wdIe2dpR+48aFUE2Jp4IvEzfLQi0v2Pz82b9sWHKsjHxRMQvDr5ZEDg2YVFRd6Qty7Ix8UTEif9mQSDOIJ51LGXZmHgi8DI9XhCIsARXHacpKcvGxBORXqbHCgIRfE2hIhslLRsTT0Sqxuu7BYHbxQlc0I1UTjYmnoiYqv9+QeDp4Pk/Ly7LxsQTgZephoLA08HzbXpZNiaeiHCZaikI3B28T2Vj4okIl6mWgkDr4PklERTZmHgiYsTXURC4gbfgx/Nl2Zh4IvzivpoKAnEGjyIb/kYMBL+4bz8ltRQEigYXLOZli0nH+Ah1FASmf2lKle1n8QflMEyLXbY4kQAAAABJRU5ErkJggg==" class="display-math" style="margin:0; vertical-align:-1px;" /></p>
<p>We could write a test for whether a term is a value:</p>
<div class="sourceCode"><pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="ot">isValue ::</span> <span class="dt">Term</span> 
        <span class="ot">-&gt;</span> <span class="dt">Bool</span>
isValue <span class="dt">TmTrue</span>  <span class="fu">=</span> 
  <span class="dt">True</span>
isValue <span class="dt">TmFalse</span> <span class="fu">=</span>
  <span class="dt">True</span>
isValue _       <span class="fu">=</span> 
  <span class="dt">False</span></code></pre></div>
<p>We’re going to take a different path which will simplify the testing and the composability of our system. It’s may look like a lot of unnecessary complexity, but the reasons for these changes will soon be made clear.</p>
<p>We define the function <code>value</code>:</p>
<div class="sourceCode"><pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="ot">value ::</span> <span class="dt">Term</span> 
      <span class="ot">-&gt;</span> <span class="dt">Maybe</span> <span class="dt">Term</span>
value <span class="dt">TmTrue</span>  <span class="fu">=</span>
  <span class="dt">Just</span> <span class="dt">TmTrue</span>
value <span class="dt">TmFalse</span> <span class="fu">=</span> 
  <span class="dt">Just</span> <span class="dt">TmFalse</span>
value _       <span class="fu">=</span>
  <span class="dt">Nothing</span></code></pre></div>
<p>which returns <code>Nothing</code> for non-values, from which we can define <code>isValue</code>:</p>
<div class="sourceCode"><pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="ot">isValue ::</span> <span class="dt">Term</span> 
        <span class="ot">-&gt;</span> <span class="dt">Bool</span>
isValue <span class="fu">=</span> 
  isJust <span class="fu">.</span>
  value</code></pre></div>
<p>We can break <code>value</code> up, so that we have a function for each of the rules. The functions will use <code>Maybe</code>, to handle the case where the rule doesn’t hold.</p>
<p>So</p>
<p><img width="121" alt=" \prftree[r]{V-True} {\text{true val}} " height="22" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPIAAAAtCAQAAAA+Cf7VAAAERUlEQVR4nO2by52DIBCHbYVKaMQ6LMMm6MEW6MAGPHP0koNZXkZgePgI8bfJfFx2AVnXP4zMMDYNAuka7hUGerBs6woNxkmV9AhINaiWeWmesszN0LSgR9eMuvUh+3XJcTrbZ3zJacacXr8L/buo+c8gOZgWYEi2j3ICkOwIHFxvRHWhchKgyLdB9Lqbk+1T0xdG4HIi+ECRGzlK+m8g1TEmGRprBZErsAQH0yAmciMnE3Ib5p3Ko21Dot5lAhMkLjKa61t5SEni62yWb9MSULy4yFPh3Y5UhWtR4Lu33fUe3StyboeOVIdalydkPOnbxkVWLwbjedNm9a7Zq6UPfGlYs8LkfQlZ+A4rgzhMWpbQnD5OGtiUyEJaBtXSSRuh3uSb8yWAL7329e2Esi2TFVddjQGWA8S8ZQZco72kRF7bems1Fs9+cCBpWNPKK0TQXnLwEAfoLU+n36E5kZUwox1ZGeTWa8mLPGsrsEF1pA3ZTegt0wuPryRyfOSSyCxy5Zz08JEIrRZmM9BDJtRZoiQy3OKtLTmRp8iVEwzJip8vOXxv+XFh71oSOR5gKYm8WEPvlhGO1v18yTFoaZh9UnC1GenckqKOyM+IyKqgI3UA4njLMQ+Z77YL9UQuB1mRAsZbpruOJXLUEXn29gzISXrrLbOLK6aOyDx6JErQXB9l0W6KuOiWnBN5ACJPXg3VdxdKOmDU6yjmqOLq8f45kbtAZKr3+24NAwabFPNWvgyzGVoyG6IybSS8eRQjTmoUoTd3cWFmZ6US2bPXTp27dv1UI3LZ5vw7Ovnvz8DkHWWOHFTsJXSxnsGO2K+H90llnUka5PoAo3v13Zy/rlFHF1wnHcF0hQK04EX+D+Dm5Sj9zW4K1b6vEY8k/GB61j/uvsIHuy7yV3P3DH4PKHIWjiJ/Oyr7GEX+ctLe2/8CRU5AbQhgO+EwLsRn086od7KyOjEtOGuh0lFS48WT7FDkKEw/socN55liNvCfTTtj9i6eOpyx+n/bB2nM9lp9w07WzcBPRJEzpMz1Z9POzHdJfqSodyYH9U55VSx3CQIXKHKGlMifTjuDyTGtE63lep1vso5gSqDIGXIifzLtjNoTXXfUzvnZby1PNMQhJ3LVtDOACO7EPREiwReEKPIhciJXTTsD+BaARScF0YcR5gt+FHk37xf5fNrZ4mzQBDgRUil2ixy5t/t9FHk3dUQ+F17ZXhEUHJFPelTi9ESRd+OLKRL14RV10s62zVf4Db8IxkSRD/F+ka+kna2bL398c4Tumu/tL3JQgwCOi1wz7cxsvsLDz9y0Esk+yAvmPBwahB/uSDtbmjC7KeazCxT5CMRZd2744a60s5h/bmzDZglGOdpDG3Dy6jvqifBT+YtHUA/s0XAneeDOtDMahETXe5y0dejl1DHB1lbHr83k8e/3GzLWqtAeTg+rl3aWEomAT9d+LCk1xR8bPZRm5yUd9wAAAABJRU5ErkJggg==" class="display-math" style="margin:0; vertical-align:-1px;" /></p>
<p>becomes</p>
<div class="sourceCode"><pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="ot">valueTmTrue ::</span> <span class="dt">Term</span> 
            <span class="ot">-&gt;</span> <span class="dt">Maybe</span> <span class="dt">Term</span>
valueTmTrue <span class="dt">TmTrue</span> <span class="fu">=</span> 
  <span class="dt">Just</span> <span class="dt">TmTrue</span>
valueTmTrue _ <span class="fu">=</span>
  <span class="dt">Nothing</span></code></pre></div>
<p>and</p>
<p><img width="126" alt=" \prftree[r]{V-False} {\text{false val}} " height="22" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPwAAAAtCAQAAAAgwM5mAAAEq0lEQVR4nO1by7WsKhA1FSMhEeMgDJMgB1MwAxNw7NBJD+wLBX6g+FR777NZr2uzzhk0gtVsqB/VTcPIQTaj1xR6QmV7Y0+lWhkLtE3/Mf5jCKB+a966rc3QdOgJ2UzQ+9LPyeQ8lng7zxwQPsOnb4I0Ukuw6ieZ+IeggJgh2T9pOlrCPCPMg7dHC3TiTZWag4l/CC2c1TXZPzc9aZ4U8fYNaX0RzsHEPwarzuNnstVqnoY08U3WQwjnYOIfgwTK4g7YQHLMDHLE98RZmPiH8dILvkV7Vu0C0pAjXmitQp2DiX8QljRsy7uM7Y/PcSVeXcwHn/gqIVwoFmIi2mYDTHwsBBTaeJh4PT4zJt4EnBOEhb32N8Lto3SfmW0k6yVGABtvh2HbixTIWWDiJ0S80u+xWkBqXbIihzIkftZz7BIMQXLHaKPZEW7G0bco44JYNK+IltkiJF6iIE54OkXo/i3YWD7xY2BoxktfF2yDMWqqGATgaH4mRt8Wo8sA2tTrK+LqjeBCnlRPaKv5xK+Bam+9Pn92AflFxg2E0bz4cCFHpzMktB6MByb+fbHG2KL7n2zI1OwaQ0VopucHGR46oOVU7kMmjRsDtvFrQLxxzvpgRI74CehVF/L3TTNHXNEZJ54Xbq7lgyo/mn996CnTvHqDFi5kjMXOEy/cxY+hf/Y2wAZbVHptwkkoyc21vCocYJGVWzMc3C2OhrN9TryZd9Mk9VqW0om3iZ/zba9D/neEeNM4qLuF9hLNx+LsEWkQvzedudvnn+FUtpcReeIt5HG9u7uG6RQz4xZm537Rr2ZOlIlfPB+iTLxPrQD3zVrxNZiJ8ZfonWeubpynEvESpYhOmkf0iUGYUBKHPhpR6GnQsqq/jw1s6XIjMCoRnzvfS/QZnI3bI3vr9oU0D59n77qi4/Mr2NMwd0fmifcNyFIkPrT320GtQsq+JVYKHZAQLPR6WNlqWJem1oLAfyFdF0ndUtA6/yBtIuwpPc/kpN/1AnXeHhGEjdx3+t7g/58YvA05enK2n2op6XZOV3RN7NM1FwT+G+lWZFtLwGFefCU72BwmlBvcBU4H+XpLGR5v/ptrnQG+2XK5sLGQ+rMVSjqn4/KHjJf7miJIJ6ZR953x30tHrZa5h9ZF3CfShO09dkR8M4p78bu8LJMgDv+/E/8TUDeWqe6lrVu6anBnmepe2rqlqwZM/I+Cif9BGG9wgmRFeLPznYJA4d0z7T5sF9w85WVj4gkwy2dvoG3i48wJfacgUDV7wdIe2dpR+48aFUE2Jp4IvEzfLQi0v2Pz82b9sWHKsjHxRMQvDr5ZEDg2YVFRd6Qty7Ix8UTEif9mQSDOIJ51LGXZmHgi8DI9XhCIsARXHacpKcvGxBORXqbHCgIRfE2hIhslLRsTT0Sqxuu7BYHbxQlc0I1UTjYmnoiYqv9+QeDp4Pk/Ly7LxsQTgZephoLA08HzbXpZNiaeiHCZaikI3B28T2Vj4okIl6mWgkDr4PklERTZmHgiYsTXURC4gbfgx/Nl2Zh4IvzivpoKAnEGjyIb/kYMBL+4bz8ltRQEigYXLOZli0nH+Ah1FASmf2lKle1n8QflMEyLXbY4kQAAAABJRU5ErkJggg==" class="display-math" style="margin:0; vertical-align:-1px;" /></p>
<p>becomes</p>
<div class="sourceCode"><pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="ot">valueTmFalse ::</span> <span class="dt">Term</span> 
             <span class="ot">-&gt;</span> <span class="dt">Maybe</span> <span class="dt">Term</span>
valueTmFalse <span class="dt">TmFalse</span> <span class="fu">=</span> 
  <span class="dt">Just</span> <span class="dt">TmFalse</span>
valueTmFalse _ <span class="fu">=</span>
  <span class="dt">Nothing</span></code></pre></div>
<p>Now we need to combine them back together, which we can do with the <code>Alternative</code> instance for <code>Maybe</code>, which chooses the first of these that return something other than <code>Nothing</code>:</p>
<div class="sourceCode"><pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="ot">value ::</span> <span class="dt">Term</span> 
      <span class="ot">-&gt;</span> <span class="dt">Maybe</span> <span class="dt">Term</span>
value tm <span class="fu">=</span>
  valueTmTrue tm <span class="fu">&lt;|&gt;</span>
  valueTmFalse tm </code></pre></div>
<p>This will mean that the order will matter if there is overlap between the rules. That’s a concern we don’t really want to have, but we can take care of that elsewhere.</p>
<p>The use of the <code>Alternative</code> instance can be generalized to a list of rules, by using <code>asum</code> from <code>Data.Foldable</code>:</p>
<div class="sourceCode"><pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="ot">asum ::</span> (<span class="dt">Foldable</span> t, <span class="dt">Alternative</span> f) 
     <span class="ot">=&gt;</span> t (f a) 
     <span class="ot">-&gt;</span> f a</code></pre></div>
<p>to get:</p>
<div class="sourceCode"><pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="ot">value ::</span> <span class="dt">Term</span> 
      <span class="ot">-&gt;</span> <span class="dt">Maybe</span> <span class="dt">Term</span>
value tm <span class="fu">=</span>
  asum 
    [ valueTmTrue tm
    , valueTmFalse tm
    ]</code></pre></div>
<p>We can simplify that:</p>
<div class="sourceCode"><pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="ot">value ::</span> <span class="dt">Term</span> 
      <span class="ot">-&gt;</span> <span class="dt">Maybe</span> <span class="dt">Term</span>
value tm <span class="fu">=</span>
  asum <span class="fu">.</span> 
  map (<span class="fu">$</span> tm) <span class="fu">$</span>
    [ valueTmTrue
    , valueTmFalse
    ]</code></pre></div>
<p>and then we can separate out the rules from the <code>value</code> function:</p>
<div class="sourceCode"><pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="ot">valueRules ::</span> [<span class="dt">Term</span> <span class="ot">-&gt;</span> <span class="dt">Maybe</span> <span class="dt">Term</span>]
valueRules <span class="fu">=</span> 
  [ valueTmTrue
  , valueTmFalse
  ]

<span class="ot">value ::</span> <span class="dt">Term</span> 
      <span class="ot">-&gt;</span> <span class="dt">Maybe</span> <span class="dt">Term</span>
value tm <span class="fu">=</span>
  asum <span class="fu">.</span> 
  map (<span class="fu">$</span> tm) <span class="fu">$</span>
  valueRules</code></pre></div>
<p>That is a bit of jump from <code>isValue</code>, but I promise you it’ll lead somewhere interesting.</p>
<h1 id="small-step-semantics">Small-step semantics</h1>
<p>We now need a systematic way to turn a term into a value.</p>
<p>We do this by defining a single step of evaluation - a single change that moves a term closer to being a value. We denote a step from <img width="46" alt="\text{before}" height="12" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFwAAAAZCAQAAAAWc4EMAAACPElEQVR4nO2Y0ZGEIAyGaYVKbIQ6KGObsAdboAMa8NlHXnzQC1Fmk4Dgrp4zN3NxbkRN8n8KmzCn1O+YURb+HrEJj0W5y5msmtWoXioofwPXCTkH2OtlcAs5IrCB8wpXj5i7AXyGHBrOHYJ3d2C17Tp4/N7TPu6ewr4DvCfgD9p1cPcP/rHsnwbXsFYdHMPhz6uHkhfrviMeFg4PGQKOLIs14Bn9PdR3anZXir4djvoTSgfgPbYPDY5DsSEZQBv3NDEiScX0sRguezNL9zV4h72idzh+99QJrrZ6b+CJwXxDU6kIzvudAYwgsBe2GGLMi13xpaIhPmBlT+YhA90OTJhhxHFsgeMppQxcrlC57oPoh7HRzJUMY9aGNADN5FUc9tot5wuu0kvVlaqQyf0t3ReCo0ASk+AW51CaZwvCFYFaSk3wrYknmZFMpSL30nMJ7vedS67DZ0nmbCudAJ8IzLJPKz08iZLgczGjxVnUJCb3aSl9CL4W0tHSJ8HXCrglMblPS+kL8FqLuhf8dDM8Bk/rNBTX7DF4KGbsEauu2lLKZMurrSceeZXQh0ulvAXgd8uqLaUmuGUVoMPXkMEDezEK2rGfYbKQNa0cvKWUgc9CZhJtoM+mUJPOmH/hHMuKDEdbu7qSEFkg7UQe+sIOge8nNPgb5i9fne8ytkZOPSas2CWgmpJwdJh6hLOFkBk3PrlZ3BxFb088Vnbw/hlwfxf9Z/YhjmNqShUzWDOL07Jbd1xVK/7f/K+lqPQDPKPaG0MVK40AAAAASUVORK5CYII=" class="inline-math" style="margin:0; vertical-align:-1px;" /> to <img width="35" alt="\text{after}" height="12" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEcAAAAZCAQAAADJPfsTAAAB6ElEQVR4nM2Wy7WEIAyGaYVKaIQ6KMMm6MEW0oENuGbpxoXeJCISZJSZOfc44cwZ5ZF8vP6o1CdmlcPfT5hTsxpVpyY1PI1CMCtjWPxf8e1hmxFC479hHMN15iksWpsQn02EoVp4BsdnOId1T+FAFQd+CUer5ZdwqO7fcIzqMWDAy+yLFodlwNATPzk+yIZh6Oq7WHQxymMb+YN08MmT5w3ePcApVho8RrV1GHYSyktO6Zov/BSwr091c6wLYoRFD2PEIGyfPE1RtSzHo7a+tjKjeFuwyNm+s1mWwWW/LpscvW3xFnwe1cmA534ADCfqd3CmQrUNr2I+aojtJBSVDAiZ0taDt+N4EfwA3MNCpb0wjZ267P0bnLGyAWO22lDfoDqWw2HA+/spziLum0v3Ei5Hncwh84IDu3jiP8VZKzi7PDTiaF5OSIf5W5yrcA04IX7LvA5+j7O3ToWvt3EczyjXmSM4nGrucID1uzTdvllXaxFe9nmFY/gwm6Jvn5S5CUcqQWjCyb+BTLZB/rRdGtcrP5eXONt8jmQ24N3aPkV1UoiBkWXi0Nk6gNBhmYu0yGiBdadMuMIs3yy65H0UcMt5a3OzihLEuBkLVD7DHKdLqh9Scr7ydDId9SEP1mI20xRpRujNjf0B6atvv0w4XdkAAAAASUVORK5CYII=" class="inline-math" style="margin:0; vertical-align:-1px;" /> as</p>
<p><img width="121" alt=" {\text{before} \longrightarrow {after}} " height="15" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPIAAAAfCAQAAAB3u1hzAAAE/UlEQVR4nO1ay9GkIBAmFSIxEeIgDJPwsBmYAhmYgGeOXjw4Cw3O0NA2zJa6u3/5WVPzELqhP6AfjhBXQQntXg/q8Jbq7lFl4dqEOUGWFquYRS8WMZ0g7SdDOptPzlLTKXavQjs1m3idoEw7KZ5c5d5f7tuDI0i3DWbhLeUtfxPMKSSvTop07x2QfNNB9F9idPYZ3Pvs3rfibu9+l+crPYNkv49t/Nw9FLNYnK183KLdyVfGL1u8ezLOIHlISH7AIZx0R1Dk7j4BZ5BsHpIb0bOW8kf5fIXah2SM7dIkkLe299Pj/WrbZfwUktdLExsbw64j3Zd45A/J0ik37hoPA6fBhQo+rzaohYYQ4uUCCg1Xek+5tjZmhQL1Cbp82w4+5ROndd0B40z9PXqYBZc6ButssFc1KhrJeK+P6acmSkqd61XaaUx+6SJ7ZGweSB6gkCFBGFUcUZDdde8eH2WeihUChlBa2e9I136J0+7gs0r6LHFCyt1RIHFs0HUHfGjU15slUFAG6tyMJzfW4WA32vesbVy+H432bcW1uBvuL5Edk/jsCbZUYGsAOwbLEjCwC9MqlU/TcVMFFOI+ffYdH9c+5V/Qqpoyb2dBRhjylgQcNV3XY3Kmbs9VB+TuZqDqaEdrsPURaI88OHtMqFWwhopaLfQK/cxR7E7509xPL9nAO1hznIy5KIlIN9jUeAZqZEGqP+z2BVDTdT0k7Mw26GzmA5simVgXpEHlyGVyuh/QuyNbkw1ijqJzKvDCdauBMPOCBpSTTK/YCa1UQ5JX13UH/GnSUnmSYOJ0MfMVg5kJcqkcuQPiU/leY/hu43dcYTywEx1drwkhM7E+5oKwdGoTuWIxrfSqq+u6B97PrtUavCkW88TmKvkplYLKkafMrp2TsEcoQUvPOgA00HJYNhG/xYM1vfBkcpJXUqaGVSeTPmWbui6MUOa/7lrZ6H4rlh/nkQWaf45yKYddasAGBvKUuZDdmADXSX4RhsfJUk7yiyFZJ33KNnVdpdSW61dju8+1wJy4vRxSnvSA5IuWmo0uSo8c5PcHSVXAIprC0jaS+dVyLsm3PGWtwOcCNRdhCi/Ke2SuaEl55FJ+DsmeDZkomuTdqy6kh81lpJNbSJk48qT11nXdgTzdozEXlPIemTtaqQVQryM2emTONw5Ji1KUZI5renj4V1pvXdf16Fm/+oEtZvApS1I71jJHK/bIoXed5OaSNNUQe48ykPcYk0pUPpyOPEaw/6AHWNd1PVqr1/kMVHJSUSRzf6dIq9Y6Ss1z8ACZnHSNHnlPbDAhNlvLQ3GISlTPKtdcSaHOZBytwpquqzG0eTkRZvSZgYyhmkdP+HP+WXHqyOxb/1oEasrd3RdDs0f2xt7ccG3SeBJlvRhXl2Wiau+RLxRcdQ7FyrSFBS9EDZHXdTXsFzGBfZMgIRLfC7KW2LEDE3aFPRmQPszpMyZGZLFmjywgAxPwoMBnZCOU9Cijaih++9YTaoHzSlz3WqDUbqAanA72uA+v6w58UymXkLv28NjA0zoAKTPpXHj/qeBBw+DkYe09OA/Py5Q8/PlI/LpIpCAf47Z/V8lZj3r8CU3f6zoHvAVK4P+ad4djtkUejBEeONIjonmRTeHhgxtx0b+3Hvx9yLh71T9S5HlwOkLE7T3pyKRPD/5rfAq5y7OPfyp8acfv4+HWTP/BzVCQ+pj7Kf4NHUGw8OBpBWoAAAAASUVORK5CYII=" class="display-math" style="margin:0; vertical-align:-4px;" /></p>
<p>The idea for <em>B</em> is that if we have a set of rules for the single steps of evaluation and the rules cover all of the non-value terms then we’ll always be able to do something. If either none of the rules overlap, or if the set of rules that apply for a given term all give the same result, then our rules will be deterministic.</p>
<p>We refer to a term for which there is no applicable rule as a <em>normal form</em>, and we refer to the process of repeatedly running these rules until no rules apply as <em>normalization</em>.</p>
<p>Every value is a normal form.</p>
<p>For <em>B</em> every normal form is a value, although this won’t always be the case. We’ll refer to any term that is normal form and is not a value as <em>stuck</em>.</p>
<p>If we don’t have any stuck terms, then evaluation and normalization are going to be more or less the same thing.</p>
<h2 id="small-step-semantics-for-b">Small-step semantics for <em>B</em></h2>
<p>Since we have already designated <img width="34" alt="\text{false}" height="12" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEQAAAAZCAQAAAAiCkAQAAACAUlEQVR4nO1XwbGEIAylFSqxEeugDJuwB1ugAxvg7NHLHuC/BFSCiO6fcf7lh3HcBRJeQvKyq1RNemXw/LEY9VFODWpV8+3ehYfH8wKMwAB6vAO+3e2eADi8AeQDsxrvjoF0DzTsG0BMZrR7BOMlIOMvjL4C5DdG/4G8DsRgzDC68ieTpWqHIiW+mJFDT4AYzM14iI003lJGrJE1e1UMtEjF6xNNjbuiSyxrAHI9MW4JxOEgnT5PBdn10HcJAOnVHLvwroNi/s1j6IaOxVFy9VjrC1ikOTwFYjlGx9F0eVNDZy2uQos1ydVEmp9vgOQMW99xzHiYlhHbIjpWjiVo1eZ6PoaSbWjukDMzHzdmYDYnHFackuJO8b085gBEDY5uvA2EsijwoB6eA/LcTo0YBLusqgYQA5MeSgPCeBcRgjInKBHOFvpQASJpoglEc/js7tk9kA28Zc0j1cOV98+ALOn3yfWOsnxz6TgdYxashaWvgBj2Q1d32KpOKGqm21PUMmuXop9dTcv/pbrnzJYbs8Q0Lo+d6uxaAyJrf7kFUuaLz5pFeTkaMLWqSGSBnAO88HFGDcQfk3rnBKkTuL4OmcR1WMEbxLoVOgtibH71nPtUuhMXX+wYPpmQOoZnDLfJiXlnyRpgFIM5uizqz+7bvyw6Vfwh1wa2lahRDTviXOGPH9EBfp+gqlxbAAAAAElFTkSuQmCC" class="inline-math" style="margin:0; vertical-align:-1px;" /> and <img width="31" alt="\text{true}" height="11" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAD8AAAAWCAQAAADd9YyqAAABbElEQVR4nMWW0Q2EIAxAuwqTsAhzMAZLuIMrsIEL8M2nP37otRUVtJya3IWSS6SlfaVaOIBSNFhoKBZ8S7xri/ct8QrmlngPSyu8ZvgCA35+61Cst9DxK9Fpjcc5JIsr5pJmkw7jRhxrHMFMxgnxEz/RMGyJMHJaFucBf5RknyyRLXGPsq2NRWyD2pCw5H1NLkmt+IRxGIJkxudQeJSws8agRzzZ3Tu8Ty+FhMprXuBHrtwhmiv8Gi+73OE7wZMSMiDIN3wQ9Pf4IHiG/et5gZcb8g4/F720jqEW7ff4RcDTENvvP/jHB1mJiRX9G/zIu2+Gp9l48VJPiv8E31/wodBo/vjOsF4++brMVWdFq+PtCa/54M413aX8CuuhpGAqy9VnZ1Xk7hVd+O1uu1O40uF8LvZ73BLbGvHQITGY/cS31rbbpRjx4qH5qvL8N42uJLuvPdK3fBlRzIHXfBVT68uqaO5lk3Yn97WW9B8meSOTExVOXgAAAABJRU5ErkJggg==" class="inline-math" style="margin:0; vertical-align:-1px;" /> as values, we only need to deal with <img width="152" alt="\text{if $\ldots$ then $\ldots$ else $\ldots$}" height="12" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAATEAAAAZCAQAAADz5NEMAAADZUlEQVR4nO1bwbWDIBCkFSqhEeugjDRhD7ZABzbg2aOXHPQvYCILBIgxAvlOXl6+oJvZyYCy+glJQ0M4vC9c+Ao4uZOB3MhE+txUHIzqNcP7v6HKzBlYaQYrYXCyKGs18LnAVlngRADnpS6hDwEnHQz6yjIXykQ25Tu0USINKHtZDmJPMK/FRW1CH4bqMmdqPmhRGzeSYJkNpucsF9UJfRgqzJw6JmqLSuJ2WQzhJzIvKwlxWQzhJzIvKQkKJ/LLYiZ+IvOSkpBcLouZqCzzRl1MC+Nyn8OrhyQm9RfPerHP1vVuv3LhapWrsQmtMxAvisQtHC1rSQJlwtUVnljXquEIueBn7rOY5N/DW9YxqTMgX8U5CQK+GhctJBlZspjXMl8bOPq7aJ9c7iuX0TCBFpqCfB1IR9W2XSRuYKAMq7ACrZtHVV2S82M4Qi68Zu5abADWj6HXWWXZUJwT4Y6Kkqbi8ImyN0w3WRI2ltzyiJu1LYIRciHMHP86AlgTtO/WF1PgNNRrsdkZ3eYsNFn3JZiaD/H+YzBCLoSZ419nstShqC+swGmo12KL07Kxbj1ySsnxqTYUIRdizDHLGfalaN8hMc6JqNdiIdYDbA3WMbKtS46QCzHmmGWvjNQaNmPGMWEFTkOpUmvstdiMVqL8uVIWyRFyIcYcs9Q3ABdltAFZLa7AaShVao29Fls8AuMiTKl5x5jbLJkyzvI0WpMY50SUKrXGJxYLj9dS844x97Pkqi62qEUQTYpzIkqVWgNbbETtIdZTdHVYat4x5nbRwgRTR3dJcU5EqVJr7LWY3MIVIwlawYkyxtyerfF6kj0v8uMKnIbPpA49ERt+WjbtWdq9FtOXwbacnVEH+yTvb2YdY25bzC4WPyplcQX2MNzV+4nUk3ekxPtivRvMZ9eYMfHHWbfOiYLCN/rucr5ueZ/7EVmHmdsWsxlvBemYAu8z3Nmrb3pTq8Uu6PlA11XMu32xXrznNhaFMUpcjm6LQFUgiu5xpkV4l/tRWYeYY5by8t60UYd+5LACx/J/0bugl9sSG9OhOku4BpNeoWlA0DvRz0L4WHNviwZXN7yFuhc5GPKmR8iVtZ+5jzeH2WoAI8l/HRmNW+KhOPtyOy67AtF8UM9h2R9K2osU5g/T2A87vRvnYPwBelRdJzmuyDEAAAAASUVORK5CYII=" class="inline-math" style="margin:0; vertical-align:-1px;" /> in our rules.</p>
<p>We have three cases to consider.</p>
<p>When we’re dealing with <img width="70" alt="\text{if true $\ldots$}" height="12" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIwAAAAZCAQAAABJYg5FAAACGUlEQVR4nO1Y25WDIBClFSqhEeqgDJuwh7RABzbAN5/8+BF3GNHwEtY1qCeb69mT7DAOcDPAHQj5HTgR8PdFAEFGokhHDBmuHso1YEDAEwgIIciEhHD4nOC/fwiJU9eRdQQbJZY228oK77NPpY1BvkykD2zCo4oVabG+stHILgdNpt5ncmgL3ecSk0LuIEZ+icmBwkL8ErPh+ZHEcNw8pbf5CngGmK7Bb6Kw9TJ3og3OU+A5ZiP0GJM5n1d0gTtS2FtsWdBDXA2PrGz+jSCh6/C4toOxh/UTv+nMkGf0q+foPLVTyRpIndUPB4nIkb7HGjvuzWTkAgercoTI5Mw8DenCOb6ULAEdTM7CygG1ozeOP0rYHgvQU9CCGOmWmIVdLDxoKfdmIq3NMCsvQCti8pOp9dZn3rRUXVDMtiJGZez13lTmTbXuUqeiFTH5Y7zW2zM458R6Sl4gCu5FzJQhpiwbmuF+xNxEMr6PGL1h39ObcTdBN8C9iJGoumOkNwAn4FxiHklsFVjm+6GYhkdV/Zavy/7UeoQY/+aGeUtgmxgRxWZYVviWPllMFHKIFsdhsnl2sHUuGWlkGStDmUG931d6zGtUI/kIxssICp4dVmZ+jryqq8WnLO8obtnTO1un4Ekt9bzhQOGIFfKSIbUIDItPiXW9wvp+8X0RK7C8tDEH9KmhrHSOtB4C360zGGqTecJ0Q6ew8/XLD3MIyvdbC4OCAAAAAElFTkSuQmCC" class="inline-math" style="margin:0; vertical-align:-1px;" />, we step to the <img width="34" alt="\text{then}" height="12" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEUAAAAYCAQAAAAGlPiLAAABYElEQVR4nM2VwRGEIAxFaYVKaMQ6KGObsAdboAMa8MzRiwfZJLi7BBiEGccljAeC/DwTDEJcmaNxwPN308IAiH8eRUHo3Mw/UDAHg6C8xkExo6BIOKCDoGDIAVAUBfTCwtENQxZQNJXQiKmoMcNu7EIG1H6m6QSa89+sK5AISuwQcj+bmoteDigSAi0QRNLcJgqT2MR6IuD6/F1xsOIp33UFZvUC2QhuY8EQhPdj3PHKlGsKHSgH25h+FQrHzVFRftOPqSl0oPjM88vCnAT+wPES1xS6UFzFs8JsTfagb2lWuA3lYH9eGJZpPYbiCyg4VLPCrSilfe0KFyiO+WtC21WXeA4FZ1umJu8rUDuKooOrBLcl6iPdKHO0rKKUXwvNWYkk5Kl0izWiyOjrTNQ9LbUwGb2ZewzrI5LdYW0KiU2wvJ93ZzDPhi56gmm6+AzdNWsE0q5QwNFZ3VtNJf2kw95UZ2NQTrek3gAAAABJRU5ErkJggg==" class="inline-math" style="margin:0; vertical-align:-1px;" /> case:</p>
<p><img width="272" alt=" \prftree[r]{E-IfTrue}{\text{if true then $t_2$ else $t_3$} \longrightarrow t_2} " height="25" src="data:image/png;base64,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" class="display-math" style="margin:0; vertical-align:-3px;" /></p>
<p>When we’re dealing with <img width="72" alt="\text{if false $\ldots$}" height="12" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJAAAAAZCAQAAAB08G8jAAACkUlEQVR4nO1Y25WEIAylFSqhEeugjGnCHmyBDmzAbz/9mQ/ZEHwlYIbdZdx1z16OxxkS0FyBXFCqDI2ycNX1/DOw6qkG9VCT6qt5KjVimeG6DQyEN0N4FFZ5DLeBu4d/5yj3jN4dEOnvRJDDwPgLP6FOq0BfsBqhfbnn8Yk3IsjA+PGqJXX2EIIRgy733HEzghR8fx5YWxxCueeO2xGUojyErwT7T9Ab2vwy/BO0IQg8B2VfpC2UHkKY8JcVFt5zTwPJPOidni3+ESlB4R16uIKa0nCnaMEWenOFSaAqHDyYpvnwKiF1z4uoy4Uoe7YQaFTVFsibEoXNCRqAAL387piIbKD9sBDjkmx7EdIv+p0pZiCg478ZihbaOKCAWndbw+gKLbmkvQB1CXI4pnZKwiTshDYTm1Ka2Kg2D2L0WfReVVGfoKOiftX7DCHTEbaOwDZDR6Ds8k1xXYLCIvsQPWhNjzS0B5JWcgewDIpiSMbjBahL0AqNG9OYBKTe41bHI00DIWrGbbAlJdDJs9zbUZ8gC6HOEMwDpsPr3g2G7Tea1inkMwTJwuNNqD3FBvzK+tTjjFSHLfcl3v/EaMmhLkHjcj5U2julwOAyHFeZifX0Y6hJkMXvrrMeLtvGsxxmtqXZoUrnSM8e3o6aBEl9jVmfVB2vyigu35yO7qWalk815dPRLGoTRLXL+JIg/qT5sGnhk0wDfVpJmLLjrsR6aosbTs1quHzLg3vy88keclI8lNWbpqFtPOa7HR15SUd0T1DZskzUSy78vPXE5klJa6RxlPdsMBeFFN9hko47qnkJjbaxWGNxe9uhbhoPG9cIC3UTnjj02yZYgqyUJOuFGksvimXHeWCrJbbIj1pztf75ACE3JhLauz0EAAAAAElFTkSuQmCC" class="inline-math" style="margin:0; vertical-align:-1px;" />, we step to the <img width="28" alt="\text{else}" height="12" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADgAAAAYCAQAAAAFI/ajAAABXUlEQVR4nO2WwRWDIAyGswqTsIhzMEaXcAdWcAMX4Nyjlx6kCRVMIgKnvh7683ytkHw/IqEFGNEztR2vL8mBhw3i9wxJy9/wb/gzhjOsqeoWsB1Dh30rXgEeYPBzjCM0YbWFI4AM5oZhQKA5vnt1KLQ4IkymUejjxnBBJIjYc6zNYaKzxLF7i/evG8NNLaERYy1O0VzpptSparhjrBGxYZDDEmJJ4n2+argm7MxMLctpcdicI2KcaITNSycNbYqPyTYI4x6nKFYCqeWZ611qEyYW22mQIwwvs2CqF75LdUi5+/GUPU7RlmY2aiiRNmX7IY4Abpdec7OkUe1RW7ZKj8NS6HXrbl9OCW2oT49cmT0O03xZDIOY/CTaUL/PvSDbHKFF1AudHme5fiovp9Em4VAvlrHFUXI4SItDvwNBbPWzudTj8EkCYukP1pMd5C3OjWy9boQy4lNj1eWqc94owBvPS3KBuwAAAABJRU5ErkJggg==" class="inline-math" style="margin:0; vertical-align:-1px;" /> case:</p>
<p><img width="277" alt=" \prftree[r]{E-IfFalse}{\text{if false then $t_2$ else $t_3$} \longrightarrow t_3} " height="25" src="data:image/png;base64,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" class="display-math" style="margin:0; vertical-align:-3px;" /></p>
<p>We’ve now dealt with all of the cases of <img width="26" alt="\text{if b}" height="12" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADUAAAAZCAQAAAA7ga62AAABGklEQVR4nO2WwRWDIAyGs4qTuAhzMEaXYAdWYAMX6JmjFw7QkPqeGgzFp/QkPF8rDf8XaEgAaGsKND7dm4YAb3jBDJNg4alHcK2SI0pGlOSgRAiFnwnfjp1xODO1oxyJeTYacGwgR/KvY3X2iVVlzwzzd4WPFdBJFKD3XMwcrPMW1LHAg2pqikLWbcJCY59QYKZvuhoUK2pAhaxjZXuH3u+DPR/LHOpxOaJGmrpBGTrsObxs/UiX23VuA/f5RCFs7oXilpX/7yqKy1YyzN2ob1qz/0F5af6DakcdFtT7UWVZ6oTK1S7I5ldQger12rx4RViS68BGuICEiijrN7aTtHlp18uRX2tztH0K061DpKVbVvfrnKKSU+zEBzrX+bpmYfZYAAAAAElFTkSuQmCC" class="inline-math" style="margin:0; vertical-align:-1px;" /> where <img width="11" alt="\text{b}" height="12" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABcAAAAYCAQAAAC7da7+AAAAoElEQVR4nO2TsQ3FIBBDvUomYRHmYIwswQ6swAYskJoyDQWJSRQJRQe57jffFIjjGYwA4FG+WkWESo5gxaHFm+If/8AXePYRAeYb99iw0mKIT6+t4TtSV7E07DM8DwJOsvcyrB3yGeSVCqtBj2ch4k/xJNADvH0ar8Uda0WCb7zw+t9R3AivnMqdIY2C3HiLYvnEIm2BO20cKWSJu1cs6gSGBW2hYnsK5QAAAABJRU5ErkJggg==" class="inline-math" style="margin:0; vertical-align:-1px;" /> is a value, so we now deal with the case where <img width="11" alt="\text{b}" height="12" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABcAAAAYCAQAAAC7da7+AAAAoElEQVR4nO2TsQ3FIBBDvUomYRHmYIwswQ6swAYskJoyDQWJSRQJRQe57jffFIjjGYwA4FG+WkWESo5gxaHFm+If/8AXePYRAeYb99iw0mKIT6+t4TtSV7E07DM8DwJOsvcyrB3yGeSVCqtBj2ch4k/xJNADvH0ar8Uda0WCb7zw+t9R3AivnMqdIY2C3HiLYvnEIm2BO20cKWSJu1cs6gSGBW2hYnsK5QAAAABJRU5ErkJggg==" class="inline-math" style="margin:0; vertical-align:-1px;" /> can take a step:</p>
<p><img width="342" alt=" \prftree[r]{E-If}{t_1 \longrightarrow t_1^{\prime}}{\text{if $t_1$ then $t_2$ else $t_3$} \longrightarrow \text{if $t_1^{\prime}$ then $t_2$ else $t_3$}} " height="39" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAqwAAABOCAQAAABP2IwbAAAKk0lEQVR4nO2dy6GrIBCGbcVKbMQ6LCNNZHE7sAU7SANZu8wmi5wLohHl4aAgSP7PzclDzkz8M5FhgKIAIDeaooptAgAA5MS9+Cs+sY0AAICceLLA+o5tBAAA5MSHBdZ7bCMAACAfmiERUMY2AwDwy9xY1/nKYWhtf8cCaxfNGgAAKETHuY5txAHW9r/ZY9QEAAAiUl98BH1tf8UeP6NZAwAAjPbigWhtP3/cRLMGAAAKUZrUxjZC4uOYlljb/0ShFQAgNu/EMqxvx4Gnpf0lCq0AALEoWXeZHzcWiP7Gv9MIrx3pjtNkf3PpfDEA4NJURT8c72GOkvg7jRIlPvh0I7wrVfsBAD9PahlWzoOFSmpdbYr2AwB+nBRrWEsWWKl1CinaDwD4aVKtYa2ZVZTZYKnaDwD4Ycw1rBXrkMekZnet78161KvX4AIAMkSXoWyKOwuqvItNoR7eGe54WyenIsMKAEgOXYayY4GVj7nTAmsxljptHf+I75uPF7Og37hnRYYVAJAYtgwlPbCGgd8zb92LIsMKAEgOW4YybmB9kCa22jOssbPEAICfZJmhXIaomIH1RlxGxWS/W5YYAAA8Is+yb1bzlmIGVupqASb7XbPEAADgjT8p9PSrqtF4YYnvsEqbd2WzP3YyA/wedTLrbYCovL6h56HMzo8XlnpybtRmPwIrkLmzfszWYU8/qS3I72+G2YI3pklk9n8eXoPKu819UmGJsgSLwGY/AiuQEWFR1Fw/VwHyMSSVtvZJq4d009RCyx7NFdZ8+8pHIepUsMw6GBff0xEvLDUOGxua7UdgBSqdMfC1Y2jc18J7TF9Vw6vYbw0YuX5Yur4HwDfmwMpf63e20AxTWQQVwiqwcf2wdH0PgG9sgbUqXjtbuEuBFQArr8uHJQRWsMYWWIvdgbVDYAXb8C7Ra1wApb+wYBBYwRp7YKWsk4bACn4cBFawRg2L8sSSO6EKFYEV/DgIrGCNGhZvjjulrVvgVSkP9sxrXJMNQ1cgc66fJQa+UQPr42BgnTa0/IwbWmLrdZAtuWSJgW9EWGy/a/52m9MC9C0gFQAAACMiLL7Gu8sXYb6VvgUEVgAAGFmHxYq8kpqphek5BFYAwI+ihsUWgRUAAI5gL7cqCMv/7AisPQ4cOHBkcehH59WwWC/e2ReiTG95HAysrrto4sCBA0eah76e1D7zSgTWTgnSBwMrAADkjD2w1oRJrQisAACwwB5YKQNZCKwA7AQTE3PFFljL4h1m8AoAIFbX/MQ2AgTBFlgfpE1VEFgB2MVzmAoL8qMcrq26p1rFfkzfyvi/rYV28exjUAx9QyEC2PAVpMl+ZfLt4rCURm6oRVTqYf85VVvgGdnlM17uW+Nv+CqKIT6Z3obn7V1IjiizGRIBx+8+8r56eXt3Enw+7Ue5fU5hw9dpO9o8L2/DOhyvbL3zQQhluq93pAfaBBt02ptctw1fb+wO4thdQGX4isROHB/3zMY53oX1IRwhlPkmnLMG2gzFVZVJotJknVw3fOUtHMvFNob7iNjiPe6ZjXO8C+tDOPwrkwdjys5HS6DNUFxVmURKRaBuG77WHgpYTFsoxBWvD89snOFdaB9C4luZ7a60FrQZhisrcyduH2q76z5g/R9TFK8Pz2yc4V1oH87lmDKfuwqtoM0w5KVMEm4f6lOp/HKlZL9cKYr3uGd2zvAutA+ufA51/o4os9xVaAVthiI1ZZ6A24f6PpwpMY/VxhXvcc/snOFdaB9ccV3TfckRZTa7Op7QZihSU6ZX6iE130m/5HxRLsqGr+X4+m0se2l2lmxX4+jv47skmDxOOF9eYWdn+B93dj6vveske5shO9aNWTX7+SE8s1vHUcXLreQ7S/I6zVL5QpvaOcMHX3TE7nh8ZUKbIbSZrjK90o0zDuaPkH84lA1fq/F1/t73+Lf7vchdaaNffMzi8pbsorXsP5bD43VZeM2+as/xcnZSd2/eTsx+fhjPtqybvZt5Mtumr267KtC2tRPaB5/wkfntxTDiKxPaDKPNdJXpHfW3yaUb4CNTstXdekiCfq0uXL26yN3iiytatp1vxodn29b10qPX4txOes3ejpkU81gP8szr+MqENqdHvrWZojI9c0y+PmrR7OL9KL+k8u/6q1iW0FSFPCtYeGI734wPzyjWze9dfgbl4jVbO2ZSrBQshympFOIrE9qc3utbmykq0zNH5OunFs0uXnVXmtm2u+YivqRLtnW+GR+eUaybbfkod3JT+Nlqx0SqlYL8Hocy5ya+MqFNgW9tpqpMrxyRr7kWrXJYIsNl5HX5zFPz/+VOxn7fTJ41QzfoQeqyuVknlie7SwKupHNs7ZjQ+1APHjzZq/GmE9bM0/dmsX4YZboBbXJ8a9PkQQra9MYR+eo+wmYYIfwU2+sfyv9vn3g/hTxm23xHjjvi+Wb04pjGbm9DYNi6Y3SzTkzhFAucPRci3mrHxYduGDAphkGT7ZrS+mtTmONtHUP2rcw9QJsc39o0e0DXZvIcka8uU8JLZKphTNfFgn3i/dNcVrkUZ79vOs/kyY0ik2T/XXW1rhokOQedmtgO3QceKCdB03JhtF0z/xHfNx9i9ST7PatvZe4B2pza9KlNnQfu2kyc/RfYlik5L7Dafhv3+qb37MnCwSwH7qG90+VuHYd36MRK5tPKoVvt6NH5wBcxmcd31zm+83hIXyIzYZR5VpoK2jSh9yAVbXrDf66Hsz+wrks3bLa9Cvs46l7f9J71CzvNX7l91i3bqoazW1I7evQ+tN+vXx3troDa0QuRhTyWpoI2OUe1abo6KWjTI75yPcuP6pzA2i1+5SbKw90tvWf1mAPSvUeHm3V/q87bvMjdVjt6bFdnapVSC+sbPueGtsaUf2UeTVNBm4Jj2txSZjxtemW/fOXZvutVK88Rr0iqry9i++0G7fXN5pmg1P7nJW7WqZ23qXpwqx09Nh/KYfZMnL2f6KsFhFEmtOlunV9t2j2IqU2v7JevnAfpV79pLuKVV9lc5r+2bbsrXZGSXfTS8G6qbzbP5na2s4Qu1ql2zfKyt6PH7AMffeWTEGNsuXNX7n7MhFEmtOlunV9t2jyIqU3PiIUtytUzlGmHr+8H9FBu3F3EK//CdouPVLVEfWYpIz4npHY6X4fNM05NzizRreMJfbnNdtHFsrWjZ8uHO+nr55veISMXRpnQprt1frW55UEsbXpkWVWoPmP//ayHtSr5YhXHxDsVjIs1fvS2NdpnBE3RD10TPvP6uSgEoZ3v5pl4ld5VoVvHh1Z4cTTfzK2XFr2wtbPXB856MuIZUHNn4ZQJbc7E0ea2MuNoMyHEImA63MTLqQmVmWYqUmUnHbNnFWHOkHrOtnVz1okf+vsWNy9VHyplfaaz13A3eeYb8/WDNtfnnK9NnQfxtXkJ3MV7DeSOjmmbuXT5LO4D6OX2eQFtpgi0SSJP8ZaLZd7ay3VWlt3M/uqZrJ1AmykCbZJ4ZShePtr5Kvrv4b5HfWzkPCGvRdyqLMiTHAMrtJk9XTGtjy5WCM+H5yqtf8WvZzeMxPKhCH51rvbl80OOgRXaBCAq5bBgR0uoK8iVHANrHkCbAFyWHNNUAAAQiXzTVOBk/gNJ1mKQzhte8wAAAABJRU5ErkJggg==" class="display-math" style="margin:0; vertical-align:-4px;" /></p>
<p>The combination of these three rules define the small-step relation for <em>B</em>.</p>
<p>It’s worth noting that the rules are exhaustive (all terms in <em>B</em> will match at least one of these rules) and disjoint (all terms in <em>B</em> will match at most one of these rules).</p>
<h2 id="small-step-semantics-in-haskell.">Small-step semantics in Haskell.</h2>
<p>We’ll convert these into Haskell so that we can play with them. There will be one function per rule, just like we had with the values.</p>
<p>The first two rules are straightforward.</p>
<p><img width="272" alt=" \prftree[r]{E-IfTrue} {\text{if true then $t_2$ else $t_3$} \longrightarrow t_2} " height="25" src="data:image/png;base64,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" class="display-math" style="margin:0; vertical-align:-3px;" /></p>
<p>becomes:</p>
<div class="sourceCode"><pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="ot">eIfTrue ::</span> <span class="dt">Term</span> 
        <span class="ot">-&gt;</span> <span class="dt">Maybe</span> <span class="dt">Term</span>
eIfTrue (<span class="dt">TmIf</span> <span class="dt">TmTrue</span> t2 _) <span class="fu">=</span> 
  <span class="dt">Just</span> t2
eIfTrue _                  <span class="fu">=</span>
  <span class="dt">Nothing</span></code></pre></div>
<p>and</p>
<p><img width="277" alt=" \prftree[r]{E-IfFalse} {\text{if false then $t_2$ else $t_3$} \longrightarrow t_3} " height="25" src="data:image/png;base64,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" class="display-math" style="margin:0; vertical-align:-3px;" /></p>
<p>becomes:</p>
<div class="sourceCode"><pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="ot">eIfFalse ::</span> <span class="dt">Term</span> 
         <span class="ot">-&gt;</span> <span class="dt">Maybe</span> <span class="dt">Term</span>
eIfFalse (<span class="dt">TmIf</span> <span class="dt">TmFalse</span> _ t3) <span class="fu">=</span> 
  <span class="dt">Just</span> t3
eIfFalse _                   <span class="fu">=</span> 
  <span class="dt">Nothing</span></code></pre></div>
<p>The last case is recursive:</p>
<p><img width="342" alt=" \prftree[r]{E-If} {t_1 \longrightarrow t_1^{\prime}} {\text{if $t_1$ then $t_2$ else $t_3$} \longrightarrow \text{if $t_1^{\prime}$ then $t_2$ else $t_3$}} " height="39" src="data:image/png;base64,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" class="display-math" style="margin:0; vertical-align:-4px;" /></p>
<p>and becomes:</p>
<div class="sourceCode"><pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="ot">eIf ::</span> (<span class="dt">Term</span> <span class="ot">-&gt;</span> <span class="dt">Maybe</span> <span class="dt">Term</span>) 
    <span class="ot">-&gt;</span> <span class="dt">Term</span> 
    <span class="ot">-&gt;</span> <span class="dt">Maybe</span> <span class="dt">Term</span>
eIf step (<span class="dt">TmIf</span> t1 t2 t3) <span class="fu">=</span> <span class="kw">do</span>
  t1' <span class="ot">&lt;-</span> step t1
  return <span class="fu">$</span> <span class="dt">TmIf</span> t1' t2 t3
eIf _ _                  <span class="fu">=</span> 
  <span class="dt">Nothing</span></code></pre></div>
<p>We pass the <code>step</code> function into the rule so that we can worry about the recursion later.</p>
<p>The <code>step</code> function works in the <code>Maybe</code> monad since it isn’t defined for all terms. At the moment it isn’t defined for the values - and it shouldn’t be, since values are meant to be normal forms - but soon we’ll have a language where non-value terms may not have rules that apply.</p>
<p>In the general case for our natural deduction rules, we’ll be working in a monad with a notion of failure, and this failure will encompass the pattern match failures for our rules.</p>
<p>We can now combine these rules into a <code>smallStep</code> function, in the same way that we combined the rules for values into the <code>value</code> function.</p>
<div class="sourceCode"><pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="ot">smallStepRules ::</span> [<span class="dt">Term</span> <span class="ot">-&gt;</span> <span class="dt">Maybe</span> <span class="dt">Term</span>]
smallStepRules <span class="fu">=</span> 
  [ eIfFalse
  , eIfTrue
  , eIf smallStep
  ]

<span class="ot">smallStep ::</span> <span class="dt">Term</span> 
          <span class="ot">-&gt;</span> <span class="dt">Maybe</span> <span class="dt">Term</span>
smallStep tm <span class="fu">=</span>
  asum <span class="fu">.</span>
  map (<span class="fu">$</span> tm) <span class="fu">$</span>
  smallStepRules</code></pre></div>
<p>The difference between this and what we did with values is that the <code>smallStepRules</code> and <code>smallStep</code> function are mutually recursive.</p>
<p>This extra level of indirection means we can define groups of rules in different modules, and then import them and add them to <code>smallStepRules</code> when we want to use them. That is a nice step towards the incremental definitions of languages that appear in PLT literature, and is the reason <code>value</code> took the form that it did.</p>
<p>Now that we have <code>smallStep</code>, we can define</p>
<div class="sourceCode"><pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="ot">isNormalForm ::</span> <span class="dt">Term</span> 
             <span class="ot">-&gt;</span> <span class="dt">Bool</span>
isNormalForm <span class="fu">=</span>
  isNothing <span class="fu">.</span>
  smallStep</code></pre></div>
<p>in a similar manner to how we defined <code>isValue</code> earlier on.</p>
<p>We could also define</p>
<div class="sourceCode"><pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="ot">isStuck ::</span> <span class="dt">Term</span> 
        <span class="ot">-&gt;</span> <span class="dt">Bool</span>
isStuck t <span class="fu">=</span>
  not (isNormalForm t <span class="fu">||</span> isValue t)</code></pre></div>
<h2 id="evaluation">Evaluation</h2>
<p>We can now build an evaluator from the small step function. As we’re using the small-step semantics to define the meaning of evaluation, if we implement the evaluation rules correctly we can be pretty confident in the results. It may not be all that fast - since it is doing some redundant pattern matching - but it’s still useful.</p>
<p>Technically, our evaluation function is the reflexive transitive closure of <code>smallStep</code>.</p>
<p>We’re going to transform terms into terms:</p>
<div class="sourceCode"><pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="ot">eval ::</span> <span class="dt">Term</span> 
     <span class="ot">-&gt;</span> <span class="dt">Term</span>
eval tm <span class="fu">=</span> </code></pre></div>
<p>by taking a step:</p>
<div class="sourceCode"><pre class="sourceCode haskell"><code class="sourceCode haskell">  <span class="kw">case</span> step tm <span class="kw">of</span></code></pre></div>
<p>If we can’t take a step, the term is a value, so we’re done:</p>
<div class="sourceCode"><pre class="sourceCode haskell"><code class="sourceCode haskell">    <span class="dt">Nothing</span> <span class="ot">-&gt;</span> tm</code></pre></div>
<p>and if we can take a step, we recurse to keep going:</p>
<div class="sourceCode"><pre class="sourceCode haskell"><code class="sourceCode haskell">    <span class="dt">Just</span> tm' <span class="ot">-&gt;</span> eval tm'</code></pre></div>
<p>All together:</p>
<div class="sourceCode"><pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="ot">eval ::</span> <span class="dt">Term</span> 
     <span class="ot">-&gt;</span> <span class="dt">Term</span>
eval tm <span class="fu">=</span> 
  <span class="kw">case</span> smallStep tm <span class="kw">of</span>
    <span class="dt">Nothing</span> <span class="ot">-&gt;</span> tm
    <span class="dt">Just</span> tm' <span class="ot">-&gt;</span> eval tm'</code></pre></div>
<h2 id="theorems">Theorems</h2>
<p>We still could have messed up our rules. The patterns could overlap, we could have forgotten something, or there could be a typo in our code. We want to try to rule that out.</p>
<p>We do this by coming up with behaviours and properties that we think should be reasonable, and then demonstrating that they are true. For instance, it’d be nice to know that our <code>eval</code> function always terminates. Failing that, it would be nice to understand the circumstances under which it fails to terminate.</p>
<p>In the PLT space, the work of proposing and checking properties is done by coming up with theorems and proving them. These theorems are usually phrased in such a way that they will hold across a useful subset of languages that people are interested in. We can then prove those theorems hold in our language, often using proof techniques that are made familiar to us when we learn and start using those theorems.</p>
<p>For now we have a few properties of interest.</p>
<ul>
<li><p>Every value is a normal form</p>
<p>This means that if a term is a value, then it won’t take a step.</p></li>
<li><p><em>B</em> has no stuck terms</p>
<p>There is a double negative to unpack here (take that, constructivists). Once the dust settles, this is claiming that if a term is not a value, it will take a step.</p></li>
<li><p><em>B</em> is determinate</p>
<p>This means that for a given term that can take a step, we will always get the same result from the step function.</p>
<p>We most get this for free from the fact that <code>smallStep</code> is a pure function. This is partly because we are combining the rules in a fixed order, which could be masking issues here.</p>
<p>We can make sure that we’re not missing anything by testing that exactly one small-step rules applies for each non-value term. Later, if we need to handle the case where multiple rules apply for certain terms, we will need to check that the results of those rules always agree for those terms.</p></li>
<li><p><em>B</em> is normalizing</p>
<p>This means that for any term we care to feed to the evaluator, it will always terminate.</p>
<p>The usual terminology is ‘strongly normalising’ (regardless of evaluation order, normalisation terminates) or ‘weakly normalising’ (there is at least one evaluation order for which normalisation terminates).</p>
<p>If we’re writing tests we could do this computationally, at the risk that our tests might hang or take a long time to run. Using the existing theory lets us do better than that.</p>
<p>We can demonstrate that normalisation of <em>B</em> terminates by showing that, whenever the <code>smallStep</code> function returns a non-<code>Nothing</code> value, the output term is smaller than the input term. If our terms have finite size then a finite number of calls to <code>smallStep</code> will reduce them to a size of zero or a normal form, and that’s when our evaluator returns.</p></li>
</ul>
<h2 id="aside-big-step-semantics">Aside: Big-step semantics</h2>
<p>There’s an alternative way of specifying the operational semantics of a language, called big-step semantics.</p>
<p>Big-step semantics is defined in terms of the evaluation function, which takes terms the whole way to values immediately, rather than in a series of steps.</p>
<p>We use</p>
<p><img width="98" alt=" {\text{before} \Downarrow \text{after}} " height="15" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMUAAAAfCAQAAAD9lMEyAAAEDklEQVR4nO1a3bWzKhClFSqhEeqgjDRhD7ZgBzbgs4+++GA+ZiSGgeFHo8m9Z7ldZx2jMLOHDTigQlwFLYz9+3v4QlwjHovoTrBlxCwG8RCT6E+wtheDaLdzbSM6D1+Ky1gRFvE8QQpjrQBVbf8/7a9vY/RiAC5n4atxdadIMVsr0v5XSFl9TmsnrpKCi0tdJckZUkDwoztXPxDiKin4uMwpEzqDM6RoPMq/wTVS8HE9/stSdH9UCj6u7pYih+9JIU/KOBPubil4cHGdk+Yk3YFpaWdGGHpt8rHb2LRuxKD9EsYevbUx4Zkh97QtCzV6O78KUmf1BWUVnjVVvtI4KoWy8a4MQwZcXApbC9Jb4w5ZwbscrcMqRYPLGInUuAGoLaXBmYcab2PgGFK+xS0YX3ekLT+5tE/hufbqTC5P1/aORottha80jknRoPe1zkQYcnE127XZXRtJjRTvfLQeOlTeX0nCanUiZTQSonUewW86kCWG5veZ3tqgoYKNAc9hmTlU+uJxRAq1+Vx/LfagvXzPBJXnnYp2t7spWGkq7Bk5G0O00IPH3eyF2rmBDoD08CVTyRePI1J02OffjPqot+6RIs87FW3RNF0zN0xjgOO3uZCywZEWgobasU1c9sXjqBR+h4kbvl6KEm8+2irTs9dsAzOghqhZfcq927mJPdF+Eg/Tsi8eR6SQtk5+mq2XosSbj7bK9OiRWEjOYLbcoiM2fMoza9NgL5RenbhM2RePT5JZaWu0mOsdl6LEuyoFLkvxZNzQtDWk/MxIYbw6cZmyLx5HpTC2ry6YbOuPRkWJ94lS5M2cK8WRBdSxCWpAb/44/USKHO8PpXjN9hM784c2fMpT8tH2JHXiMmVf1O+r1/FSyMyClcb4YrRXitfdEu8PpIC5r/FKxPmQzExQqW00/yrvt+zLx/sNJCfFA9PnlBT0yUX5ddEVWiqWosT7sBSG5DoKhQlDar1VcEhZRWECoOc8SJ2YXNkXRYMLK8lIUXrY58bAmCyTkqLEu1qKOWi2UdDlShMNP0nW0nxY1LUR8XTAkSv5CgF3Z3tQKeBafi0SZ/pjlRT+OwzlMc3zrpRiseTHYNUZ9kK6byKD3ZeekZPuHmnXe98YMdPmmjjviwMdAasUafFWKDIJgw3tXp/KbQXAxSW9/t+RDpvjnY6WGIAgYKOqw/x63rbIKAxua0HpnpR4koOuuSecOKDGTMRN18n7SmPwZuq+QgiAxgwKEtnWbUpo3IdamzDNUbtRGL9C4nmXomWpcdu+PlRVjh/XOPIN0T5fcpuiHsG2Y6nemv+/UVdXJ7ntb6M/B4PTBkhS2iS5cTl6e3QVu7g3Lgd8NrZUvWi6cTmm6OXPjR+h/cn3ujcYyP/bd+z/ABjUuBVM/yEYAAAAAElFTkSuQmCC" class="display-math" style="margin:0; vertical-align:-4px;" /></p>
<p>to indicate that <img width="46" alt="\text{before}" height="12" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFwAAAAZCAQAAAAWc4EMAAACPElEQVR4nO2Y0ZGEIAyGaYVKbIQ6KGObsAdboAMa8NlHXnzQC1Fmk4Dgrp4zN3NxbkRN8n8KmzCn1O+YURb+HrEJj0W5y5msmtWoXioofwPXCTkH2OtlcAs5IrCB8wpXj5i7AXyGHBrOHYJ3d2C17Tp4/N7TPu6ewr4DvCfgD9p1cPcP/rHsnwbXsFYdHMPhz6uHkhfrviMeFg4PGQKOLIs14Bn9PdR3anZXir4djvoTSgfgPbYPDY5DsSEZQBv3NDEiScX0sRguezNL9zV4h72idzh+99QJrrZ6b+CJwXxDU6kIzvudAYwgsBe2GGLMi13xpaIhPmBlT+YhA90OTJhhxHFsgeMppQxcrlC57oPoh7HRzJUMY9aGNADN5FUc9tot5wuu0kvVlaqQyf0t3ReCo0ASk+AW51CaZwvCFYFaSk3wrYknmZFMpSL30nMJ7vedS67DZ0nmbCudAJ8IzLJPKz08iZLgczGjxVnUJCb3aSl9CL4W0tHSJ8HXCrglMblPS+kL8FqLuhf8dDM8Bk/rNBTX7DF4KGbsEauu2lLKZMurrSceeZXQh0ulvAXgd8uqLaUmuGUVoMPXkMEDezEK2rGfYbKQNa0cvKWUgc9CZhJtoM+mUJPOmH/hHMuKDEdbu7qSEFkg7UQe+sIOge8nNPgb5i9fne8ytkZOPSas2CWgmpJwdJh6hLOFkBk3PrlZ3BxFb088Vnbw/hlwfxf9Z/YhjmNqShUzWDOL07Jbd1xVK/7f/K+lqPQDPKPaG0MVK40AAAAASUVORK5CYII=" class="inline-math" style="margin:0; vertical-align:-1px;" /> evaluates to <img width="35" alt="\text{after}" height="12" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEcAAAAZCAQAAADJPfsTAAAB6ElEQVR4nM2Wy7WEIAyGaYVKaIQ6KMMm6MEW0oENuGbpxoXeJCISZJSZOfc44cwZ5ZF8vP6o1CdmlcPfT5hTsxpVpyY1PI1CMCtjWPxf8e1hmxFC479hHMN15iksWpsQn02EoVp4BsdnOId1T+FAFQd+CUer5ZdwqO7fcIzqMWDAy+yLFodlwNATPzk+yIZh6Oq7WHQxymMb+YN08MmT5w3ePcApVho8RrV1GHYSyktO6Zov/BSwr091c6wLYoRFD2PEIGyfPE1RtSzHo7a+tjKjeFuwyNm+s1mWwWW/LpscvW3xFnwe1cmA534ADCfqd3CmQrUNr2I+aojtJBSVDAiZ0taDt+N4EfwA3MNCpb0wjZ267P0bnLGyAWO22lDfoDqWw2HA+/spziLum0v3Ei5Hncwh84IDu3jiP8VZKzi7PDTiaF5OSIf5W5yrcA04IX7LvA5+j7O3ToWvt3EczyjXmSM4nGrucID1uzTdvllXaxFe9nmFY/gwm6Jvn5S5CUcqQWjCyb+BTLZB/rRdGtcrP5eXONt8jmQ24N3aPkV1UoiBkWXi0Nk6gNBhmYu0yGiBdadMuMIs3yy65H0UcMt5a3OzihLEuBkLVD7DHKdLqh9Scr7ydDId9SEP1mI20xRpRujNjf0B6atvv0w4XdkAAAAASUVORK5CYII=" class="inline-math" style="margin:0; vertical-align:-1px;" />.</p>
<p>Since the evaluation function maps values to values, we end up not making a distinction between rules for values and rules for steps.</p>
<p>For <em>B</em> we have four rules.</p>
<p>There are two rules to handle what used to be the values:</p>
<p><img width="142" alt=" \prftree[r]{E-True} {\text{true} \Downarrow \text{true}} " height="25" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAR0AAAAzCAQAAAAAshQCAAAEHklEQVR4nO2cy2GEIBBAaYVKaMQ6LGObsAdbsAMb8OxxLx42QdRdfg5CHGTjPE7xF9Enn2ESxojcNKwLlhq8gjhwhbk0mWpEZGJR58V+ZBmsl92zSW3vwCvU6phJHr2dZ19tVD+PmWpEZKVTL9fXurRyex88tzW2LKroCKkWqfMv2VeHqVYDPtdWy1WHsQd7pt8eUS6QOiLw0juphYlPHSa7MeIfAqnDAuoMrLK2+NWhDutfAqszgOe6SvjVGRhPuTWibFx1am1e1Tjtis5RdUKTfOIrcdV5BKbkEH516jUQINgWC2reex5W5MfdstHIQfkoy3Id4nJcdfrT1RnlmGn5LZUaH30m9aMT+dmONVu0Sm4dVmXmsynIWACLOq18rUvpgoFACL86257HOnZ6qbChfgemKPaWSp4xWvvtuR2RnUWdp/r+ty8eQ51OBRiX1m3ukipjD6zO02oXhYphExdjd1hz9BdLHf/rDqnTeM6cZYIG8EQG3LFOi6aOf6ofUmfwnDk4SyBrs0kFo/iBJ+csckwBq+NXMqTOa+3q9NK7V6upoBU/rjqVMX8Z30LoZQ8MdX486syFpugXA0eTF3W6gy0YnjrpXSiBBqxOFViKsMFQ5xlM/iAuAVYndsiMoU6nggc2nDqsq4HU4XJSjD9Mbh11BmOLUANlW5SWIspXA6nTg6MgHynq1JY6QiW36lsap8vish36ytX4QYspVF+dyMTVF+6G9YV8XRM4l/Ih1nNaz75RRWf8r/uptSpcHvmQP7+MdsZMZZ2P+dKA4Kh9P3Xk4y0Hd8rtlqPhfv/ZnXevOz8TctukUjM6tTxav4/9tHk1m5dJlpR7N8UsgIhsPPFIVaecGpSHULGaRQm+E7cRqfGcupjZfao65dTgZvwlBelcUtUppwY3oyvmwaeqU04NbgWXY+5SHnyaOiXV4Fb8LXvtXNLUKakGt0GsgavP+ukWH7gmYTpenb0aUMI3Ko16LJOKMmwrt9u8/pqE6Vh19mtACd8Z2G/u8ydMn9thUcI3MvDKa89yJkyfqw4lfCMDq5M3Yfp8dSjhGxFYHdSEaYfz1cl7/zcDVgc1YdrhfHXy3v/NwFAnNWG6FHUo4fsQWOqkfKElqUMtTBDzAdsT0hwJ05+Am18dLscY0Pe+VwNK+EYGQ524hOnxvQblU+ch906Z1aGE70OkqHN2wnSjAnDco86RwWm8OpTwfQqN9tCE0UznTJie907GH/TX6sufDsRS9mpACd/IcO0LM//BWO6EabOFWdQ58rL2akAJ3+hU6/euJ0xdkzA9aCOMPuIrd2twecL3fagSohbnJ0zzd5c1D47jXlZ8DVATvonc1KojmRWioD8RSa/+XSOtUhPRVGrAStNgIoGnVIemwUQCLS0CEGlwmgiXwC86Ga/OFF3QSwAAAABJRU5ErkJggg==" class="display-math" style="margin:0; vertical-align:-4px;" /></p>
<p>and</p>
<p><img width="150" alt=" \prftree[r]{E-False} {\text{false} \Downarrow \text{false}} " height="25" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAAzCAQAAACHg/0EAAAFHklEQVR4nO2c3ZWzIBCGbYVKbMQ6KCNN2IMt2IENeO2lN14kC4NG+REGNOJx5/XsnmyMfI48GYZh+IqClF910QYPfriFsAY43uKH9AgpLN7FRxy9gUNXTPC+HwxfCz28+0HcBy+aYhSfJLAepRa63+WZGvF+d6AFBrhU6LsgsB6lfbDkOUxn77fAhDfzD6bbNgisR8kHVil8zrEWWjFcYu+CwHqUfFgUh8F6ocJ3AuuB8oPVH2yhREVpBNYDZWPBN16mRgTfdgvbq8hj/VPZWGCHr/0WXPmvUswyZb6qc0ZdNlgckh4ybfESkwDzjmpxTrbWinZJt5SNRXcYrM4CqxaAKC/GRdw2Wn7QBKsXbbD5dWMkTytxfT8DJa/DTQ9IF0th0YgOV0cbTIu6W1hR4laSodRitVKcf3+xWdsYNn+Nxtn1XGVgJq98Rd0v6RIpLMZ5YWVE5Nv9LUyOUF5+YotSByibn1hxGY07YNo5vfVS/D1F3S/pEpn+phTdlALW4vNesJhjg/XZREN2RKW/8xb3oHu0xePVDozw+X3ShbIjpOZwjDUaYMng+2Vc4QOrA3zqDVwLlD2sSurqLf83O086rjncQa4/3VAg4hfcrFCKwYKzjJj8YJXzwrbEq9cAe8P6JdeOzh68OR0XHu6JuY1FpSE4wM/HOOLB4gKRt4DgJdoPeSyVWF3/tek71H0cYO3bRsoof+ZdgdVa3i+mBempevAqbHOFHywl/i2/WUL/+KkFKZP8WFSIRZ0wWINRgBMCS0enhPBcRVFjgSvlIWWXHwtMIB8Ci8N5ZlwxzK/Md6Q+xpyw/IbsLSQ2TDEaCu8nHxZMRDcpwbt9fs8/Dc7P2Nn0JbOlwnoToyY++16JG35GjuKulviw6AJDXLiF5byeexqCYJnx1vuLTm0NhrJSlRUR4jDZfInLwqOqCil/XZDfb/IlcmkBqxhLrt1cwObg2PRLpejAyZr/+VrYHzKVl1l9Siee3QTDHftGcCpzteDxgfnjqkYb/lotbyWz8lFfWD6TWQVDQ/XpKwryh83j44iHvn4Sb8l1mwvsJIJ9+BdLXC247KsAPplqaOYF6grWCxUS9vXydw1fYw41EZ3hkXgxwOAo6x/62HFgmkO4stCXA/b1+5qeNLDiLXlifRKbM06r9oFYzqgr3MNcmZa/4psHW96mM1LASrHkiWDdRHXCg70nWCmWEFg/U8qDvSdYaXdFYP1IBBaB9RMRWATW6ZLRfgepe3PlOndBfixYqZbE2kJbC1CSj2iCJJleR5S/ID8WrFRLYmyhrQVRsr+xdyjIP2coDFuCt4W2FkTKvXCZuyD/HLDCluBtoa0FkXJ3R+6C/PPA8luCtYW2FkTLftiXF+Q7dA5YYUuwtqRb8m+1P92+rCDfoXPTDfuWYG1Jt+Tfaq8GOm9B/nlg+S3B2kJbC6LlGkDyF+SfNRSGLMHaQlsLomU/2HwF+Wva0Q0WE+3u+4gUS7C20NaCaJkPO2dBvqzmbOdXNlgvmLPhwcJYgrWFthZEy+yOvAX5NaQhmQOscKicYgnWltO2FvwfubojZ0G+PD9p/10GB28xBXNGKZbgbTlha8H/kl5cf4+CfN07KbDCXZhiSYwtB7cW/CfpxfXrqlj+gvx+06EdAqsUS+JtObS1gCSVuyCffQdDGbIf6cIYSzC2JG4tIN1FHIJlCRgtm5BOVQfldlRBQDpZFYTSNKEnna7RUZhHIh1WQ8sopF+I0ZT+rvoD3DXJrVs8xKUAAAAASUVORK5CYII=" class="display-math" style="margin:0; vertical-align:-4px;" /></p>
<p>There are two rules for the branches of the <img width="13" alt="\text{if}" height="12" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAYCAQAAABOiyVOAAAAmklEQVR4nO1SsQ3EIAy8VZiERTIHY/wSGYYNskBqShoKyMWR8m+M/vNdipyFQGfOhgPgGiYEjj8QULDihYzFJj2Tlcle0mTzxLlZURQ6dWwh56TkUOTZp2E2fdKZ96PTO0PPg94/Ee8i2p8vMt5GBMZCUZZVGNkQWVFbnhi74VVWqfP1y2Eu3OkRPSKN43u6jimKUWgqLPPRbwPHzotl8wKdzwAAAABJRU5ErkJggg==" class="inline-math" style="margin:0; vertical-align:-0px;" /> expression:</p>
<p><img width="242" alt=" \prftree[r]{E-IfTrue} {t_1 \Downarrow \text{true}} {t_2 \Downarrow {t_2}^{\prime}} {\text{if $t_1$ then $t_2$ else $t_3$} \Downarrow {t_2}^{\prime}} " height="38" src="data:image/png;base64,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" class="display-math" style="margin:0; vertical-align:-4px;" /></p>
<p>and</p>
<p><img width="245" alt=" \prftree[r]{E-IfFalse} {t_1 \Downarrow \text{false}} {t_3 \Downarrow {t_3}^{\prime}} {\text{if $t_1$ then $t_2$ else $t_3$} \Downarrow {t_3}^{\prime}} " height="38" src="data:image/png;base64,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" class="display-math" style="margin:0; vertical-align:-4px;" /></p>
<p>All that you really need to know at the moment is that we should also be able to evaluate a term using the small step evaluator and the big step evaluator and get the same results.</p>
<p>There are some PLT theorems that we’ll cover later which relate types and semantics, an they all use the small-step semantics. This is at least partly related to the fact that the idea of a well-typed term is closely related to the notion of stuck-ness, and stuck-ness is easier to express and work with when your values are defined separately from your evaluation rules.</p>
<p>I’m including the big-step semantics here because it’s handy to know about.</p>
<p>The big-step semantics also appear in the associated code repository, because testing the two evaluators against each other is really useful.</p>
<p>This is usually done to test a known-to-be-correct evaluator against an evaluator that is faster, or operates over a network, or has otherwise wandered away from the path of obvious-correctness to achieve some other goal. In our case, the evaluator built from the small-step semantics is going to be do a lot of redundant pattern matching, so it’s primary reason for being is to check more efficient evaluators.</p>
<p>It also happens that if I’ve gotten something wrong in the semantics, I usually get it wrong in only one of the small-step or big-step styles, and I like to find out about my errors as soon as I can.</p>
<h1 id="we-have-something-to-prove">We have something to prove</h1>
<p>If you’ve read HTPI and TAPL then you might have your pen and paper out already and be scribbling away. If you’ve been through Software Foundations, you might be typing away in Proof General.</p>
<p>Otherwise you might be scratching your head a little. Here’s the thing - we’re not going to actually prove these theorems. Instead, we’re going to go for the easiest path we can find to high confidence that these theorems hold.</p>
<p>To begin with, that will involve using <code>QuickCheck</code>, which is the topic of the next post. <a href="testing.html">Read on!</a></p>
<h1 id="exercises-for-the-adventurous">Exercises for the adventurous</h1>
<ul>
<li>Write the <code>QuickCheck</code> code for the properties that have been mentioned so far.</li>
</ul>
    </div>
    
    <div class="panel-footer">
        <h5>Posted on June 10, 2016 </h5>
    </div>
    
</div>

            <div class="row">
                <div class="col-md-5"> Site proudly generated by <a href="http://jaspervdj.be/hakyll">Hakyll</a> </div>
                <div class="col-md-7">
                    This work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by/4.0/">Creative Commons Attribution 4.0 International License</a>
                    <a rel="license" href="http://creativecommons.org/licenses/by/4.0/"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by/4.0/88x31.png" /></a>
                </div>
            </div>
        </div>

        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/js/bootstrap.min.js"></script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-59162164-1', 'auto');
  ga('send', 'pageview');
</script>

    </body>
</html>
